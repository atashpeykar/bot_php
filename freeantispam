<?php


/*
Ù„Ø·ÙØ§ Ø¯Ø± Ú©Ø§Ù†Ø§Ù„ Ù…Ø§ Ø¹Ø¶Ùˆ Ø´ÙˆÙŠØ¯ 
@bonabit
https://t.me/bonabit
*/
 $admins = array(Ø§ÛŒØ¯ÛŒ Ø§Ø¯Ù…ÛŒÙ†,Ø§ÛŒØ¯ÛŒ Ø§Ø¯Ù…ÛŒÙ†);
$dev='Ø§ÛŒØ¯ÛŒ Ø³ÙˆØ¯Ùˆ';
$token='ØªÙˆÚ©Ù†';
flush;
ini_set('error_logs','off');
date_default_timezone_set('Asia/Tehran');
#defines
define('DEVELOPER',$dev);
define('API_KEY',$token);
#bot fackts
$bot_id=json_decode(file_get_contents('https://api.telegram.org/bot'.API_KEY.'/getMe'))->result->id;
define('ROBOT_ID',$bot_id);
$bot_name=json_decode(file_get_contents('https://api.telegram.org/bot'.API_KEY.'/getMe'))->result->first_name;
#functions
function bot($method,$datas=[]){
	$ch=curl_init();
	curl_setopt($ch,CURLOPT_URL,'https://api.telegram.org/bot'.API_KEY.'/'.$method);
	curl_setopt($ch,CURLOPT_RETURNTRANSFER,true);
	curl_setopt($ch,CURLOPT_POSTFIELDS,$datas);
	return json_decode(curl_exec($ch));
}
function file_get_contents_curl($url2) {
    $ch2 = curl_init();

    curl_setopt($ch2, CURLOPT_AUTOREFERER, TRUE);
    curl_setopt($ch2, CURLOPT_HEADER, 0);
    curl_setopt($ch2, CURLOPT_RETURNTRANSFER, 1);
    curl_setopt($ch2, CURLOPT_URL, $url2);
    curl_setopt($ch2, CURLOPT_FOLLOWLOCATION, TRUE);       

    $data = curl_exec($ch2);
    curl_close($ch2);

    return $data;
}
function sendMessage($chat_id,$text,$parse_mode,$reply_markup,$reply_to_message_id){
	bot('sendMessage',[
	'chat_id'=>$chat_id,
	'text'=>$text,
	'parse_mode'=>$parse_mode,
	'disable_web_page_preview'=>true,
	'reply_markup'=>$reply_markup,
	'reply_to_message_id'=>$reply_to_message_id
	]);
}
function editMessageText($chat_id,$message_id,$text,$parse_mode,$reply_markup){
	bot('editMessageText',[
	'chat_id'=>$chat_id,
	'message_id'=>$message_id,
	'text'=>$text,
	'parse_mode'=>$parse_mode,
	'disable_web_page_preview'=>true,
	'reply_markup'=>$reply_markup
	]);
}
function editMessageReplyMarkup($chat_id,$message_id,$reply_markup){
	bot('editMessageReplyMarkup',[
	'chat_id'=>$chat_id,
	'message_id'=>$message_id,
	'reply_markup'=>$reply_markup
	]);
}
function deleteMessage($chat_id,$message_id){
	bot('deleteMessage',[
	'chat_id'=>$chat_id,
	'message_id'=>$message_id
	]);
}
function kickChatMember($chat_id,$user_id){
	Bot('kickChatMember',[
	'chat_id'=>$chat_id,
	'user_id'=>$user_id
	]);
}
function answerCallbackQuery($text,$show_alert){
	bot('answerCallbackQuery',[
	'callback_query_id'=>json_decode(file_get_contents('php://input'))->callback_query->id,
	'text'=>$text,
	'show_alert'=>$show_alert
	]);
}
function getChat($chat_id){
	return json_decode(file_get_contents_curl("https://api.telegram.org/bot".API_KEY."/getChat?chat_id=$chat_id"));
}
function leaveChat($chat_id){
	bot('leaveChat',[
	'chat_id'=>$chat_id
	]);
}
function textToEnglish($text){
	switch($text){
		case 'Ø§Ø³ØªÛŒÚ©Ø±';
		$new_text='sticker';
		break;
		case 'Ø¹Ú©Ø³';
		$new_text='photo';
		break;
		case 'Ú¯ÛŒÙ';
		$new_text='gif';
		break;
		case 'ÙÛŒÙ„Ù…';
		$new_text='video';
		break;
		case 'ÙˆÛŒØ¯ÛŒÙˆØ³Ù„ÙÛŒ';
		$new_text='videoselfi';
		break;
		case 'ØµØ¯Ø§';
		$new_text='voice';
		break;
		case 'Ù…ÙˆØ³ÛŒÙ‚ÛŒ';
		$new_text='music';
		break;
		case 'ÙØ§ÛŒÙ„';
		$new_text='document';
		break;
		case 'Ù…Ø®Ø§Ø·Ø¨';
		$new_text='contact';
		break;
		case 'Ù…Ú©Ø§Ù†';
		$new_text='location';
		break;
		case 'Ø¨Ø§Ø²ÛŒ';
		$new_text='game';
		break;
		case 'Ù…ØªÙ†';
		$new_text='text';
		break;
		case 'Ù„ÛŒÙ†Ú©';
		$new_text='link';
		break;
		case 'ÛŒÙˆØ²Ø±Ù†ÛŒÙ…';
		$new_text='username';
		break;
		case 'Ù‡Ø´ØªÚ¯';
		$new_text='hashtag';
		break;
		case 'Ø¨ÙˆÙ„Ø¯';
		$new_text='bold';
		break;
		case 'Ø§ÛŒØªØ§Ù„ÛŒÚ©';
		$new_text='italic';
		break;
		case 'Ú©Ø¯ÛŒÙ†Ú¯';
		$new_text='coding';
		break;
		case 'ÙÙˆØ±ÙˆØ§Ø±Ø¯';
		$new_text='forward';
		break;
		case 'Ø³Ø±ÙˆÛŒØ³';
		$new_text='tgservice';
		break;
		case 'Ø±ÛŒÙ¾Ù„Ø§ÛŒ';
		$new_text='reply';
		break;
		case 'Ú©Ù¾Ø´Ù†';
		$new_text='caption';
		break;
		case 'Ø±Ø¨Ø§Øª';
		$new_text='bot';
		break;
		case 'Ø¹Ø¶ÙˆÛŒØª';
		$new_text='join';
	}
	return $new_text;
}
function textToPersian($text){
	switch($text){
		case 'sticker';
		$new_text='Ø§Ø³ØªÛŒÚ©Ø±';
		break;
		case 'photo';
		$new_text='Ø¹Ú©Ø³';
		break;
		case 'gif';
		$new_text='Ú¯ÛŒÙ';
		break;
		case 'video';
		$new_text='ÙÛŒÙ„Ù…';
		break;
		case 'videoselfi';
		$new_text='ÙˆÛŒØ¯ÛŒÙˆØ³Ù„ÙÛŒ';
		break;
		case 'voice';
		$new_text='ØµØ¯Ø§';
		break;
		case 'music';
		$new_text='Ù…ÙˆØ³ÛŒÙ‚ÛŒ';
		break;
		case 'document';
		$new_text='ÙØ§ÛŒÙ„';
		break;
		case 'contact';
		$new_text='Ù…Ø®Ø§Ø·Ø¨';
		break;
		case 'location';
		$new_text='Ù…Ú©Ø§Ù†';
		break;
		case 'game';
		$new_text='Ø¨Ø§Ø²ÛŒ';
		break;
		case 'text';
		$new_text='Ù…ØªÙ†';
		break;
		case 'link';
		$new_text='Ù„ÛŒÙ†Ú©';
		break;
		case 'username';
		$new_text='ÛŒÙˆØ²Ø±Ù†ÛŒÙ…';
		break;
		case 'hashtag';
		$new_text='Ù‡Ø´ØªÚ¯';
		break;
		case 'bold';
		$new_text='Ø¨ÙˆÙ„Ø¯';
		break;
		case 'italic';
		$new_text='Ø§ÛŒØªØ§Ù„ÛŒÚ©';
		break;
		case 'coding';
		$new_text='Ú©Ø¯ÛŒÙ†Ú¯';
		break;
		case 'forward';
		$new_text='ÙÙˆØ±ÙˆØ§Ø±Ø¯';
		break;
		case 'tgservice';
		$new_text='Ø³Ø±ÙˆÛŒØ³';
		break;
		case 'reply';
		$new_text='Ø±ÛŒÙ¾Ù„Ø§ÛŒ';
		break;
		case 'caption';
		$new_text='Ú©Ù¾Ø´Ù†';
		break;
		case 'bot';
		$new_text='Ø±Ø¨Ø§Øª';
		break;
		case 'join';
		$new_text='Ø¹Ø¶ÙˆÛŒØª';
	}
	return $new_text;
}
function saveJson($file,$date){
	$new_data=json_encode($date);
	file_put_contents($file,$new_data);
}
function chat_id(){
	$update=json_decode(file_get_contents('php://input'));
	$chatid=$update->message->chat->id;
	$chatid2=$update->callback_query->message->chat->id;
	return $chat_id=$chatid2?$chatid2:$chatid;
}
function from_id(){
	$update=json_decode(file_get_contents('php://input'));
	$fromid=$update->message->from->id;
	$fromid2=$update->callback_query->from->id;
	return $from_id=$fromid2?$fromid2:$fromid;
}
function situation($user_id){
	$update=json_decode(file_get_contents('php://input'));
	$n=$update->message->chat->type;
	$n2=$update->callback_query->message->chat->type;
	if($n!=null){
		$tc=$update->message->chat->type;
	}
	elseif($n2!=null){
		$tc=$update->callback_query->message->chat->type;
	}
	$chat_id=chat_id();
	$oders=json_decode(file_get_contents("data/groups/".$chat_id."/oders.json"),true);
	$status=json_decode(file_get_contents_curl("https://api.telegram.org/bot".API_KEY."/getChatMember?chat_id=".$chat_id."&user_id=".$user_id))->result->status;
	$bot_status=json_decode(file_get_contents_curl("https://api.telegram.org/bot".API_KEY."/getChatMember?chat_id=".$chat_id."&user_id=".ROBOT_ID))->result->status;
	if($tc=='supergroup' && $oders['config']=='âœ…'){
		if($status!='member' && $status!=null && $bot_status!='memebr' && $bot_status!=null){
			return 'ok';
		}
	}
}
$remove = json_encode(['Remove_keyboard'=>[
],'remove_keyboard'=>true]);
function situationFilters($user_id){
	$update=json_decode(file_get_contents('php://input'));
	$tc=$update->message->chat->type;
	$chat_id=chat_id();
	$oders=json_decode(file_get_contents("data/groups/".$chat_id."/oders.json"),true);
	$status=json_decode(file_get_contents_curl("https://api.telegram.org/bot".API_KEY."/getChatMember?chat_id=$chat_id&user_id=".$user_id))->result->status;
	$bot_status=json_decode(file_get_contents_curl("https://api.telegram.org/bot".API_KEY."/getChatMember?chat_id=$chat_id&user_id=".$bot_id))->result->status;
	if($tc=='supergroup' && $oders['config']=='âœ…'){
		if($status=='member'){
			return 'ok';
		}
	}
}
function filterCmd($text){
	if(strstr($text,'/')){
		while(strstr($text,'/')){
			$text=str_replace('/','',$text);
		}
	}
	if(strstr($text,'!')){
		while(strstr($text,'!')){
			$text=str_replace('!','',$text);
		}
	}
	if(strstr($text,'#')){
		while(strstr($text,'#')){
			$text=str_replace('#','',$text);
		}
	}
	if(preg_match('/^[A-Z]/',$text)){
		$text=strtolower($text);
	}
	return $text;
}
function filtercheck($text){
	if(strstr($text,'/')){
		while(strstr($text,'/')){
			$text=str_replace('/','',$text);
		}
	}
		if(strstr($text,' ')){
		while(strstr($text,' ')){
			$text=str_replace(' ','',$text);
		}
	}
	if(strstr($text,'!')){
		while(strstr($text,'!')){
			$text=str_replace('!','',$text);
		}
	}
	if(strstr($text,'#')){
		while(strstr($text,'#')){
			$text=str_replace('#','',$text);
		}
	}
	if(preg_match('/^[A-Z]/',$text)){
		$text=strtolower($text);
	}
	return $text;
}
function buttonPanel($language){
	if($language!='english'){
		return json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
		[['text'=>"ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ú¯Ø±ÙˆÙ‡",'callback_data'=>"settings_group"]],
		[['text'=>"ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø§Ø¯ Ø§Ø¬Ø¨Ø§Ø±ÛŒ",'callback_data'=>"settings_compulsory_add"]],
		[['text'=>"ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¹Ø¶ÙˆÛŒØª Ø§Ø¬Ø¨Ø§Ø±ÛŒ",'callback_data'=>"settings_compulsory_join"]],
		[['text'=>"ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù¾ÛŒØ§Ù… Ù…Ú©Ø±Ø±",'callback_data'=>"settings_frequent_message"]],
		[['text'=>"ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ú©Ø§Ø±Ø§Ú©ØªØ±",'callback_data'=>"settings_character_constraint"]],
		[['text'=>"ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø³Ú©ÙˆØª",'callback_data'=>"settings_silent"]],
		[['text'=>"ØªØºÛŒÛŒØ± Ø²Ø¨Ø§Ù†",'callback_data'=>"change_language"]],
		[['text'=>"Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø¯Ø³ØªÙˆØ±Ø§Øª",'callback_data'=>"cmd_guide"]],
		[['text'=>"Ø®Ø±ÙˆØ¬",'callback_data'=>"exit"]]
		]]);
	}else{
		return json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
		[['text'=>"Settings group",'callback_data'=>"settings_group"]],
		[['text'=>"Settings compulsory add",'callback_data'=>"settings_compulsory_add"]],
		[['text'=>"Settings compulsory join",'callback_data'=>"settings_compulsory_join"]],
		[['text'=>"Settings frequent message",'callback_data'=>"settings_frequent_message"]],
		[['text'=>"Settings character constraint",'callback_data'=>"settings_character_constraint"]],
		[['text'=>"Settings silent",'callback_data'=>"settings_silent"]],
		[['text'=>"Change language",'callback_data'=>"change_language"]],
		[['text'=>"Commands Guide",'callback_data'=>"cmd_guide"]],
		[['text'=>"Exit",'callback_data'=>"exit"]]
		]]);
	}
}
function buttonPanelMulti($file){
	$chat_id=chat_id();
	$number= -1;
	$list=array();
	foreach($file as $key=>$value){
		$number=$number + 1;
		$groups=json_decode(file_get_contents('data/bot/groups.json'),true);
		if($groups[$chat_id]!='english'){
			$key2=textToPersian($key);
			$list[$number]=array(array('text'=>"$value",'callback_data'=>"multi_$key"),array('text'=>"$key2",'callback_data'=>"none"));
		}else{
			$list[$number]=array(array('text'=>"$key",'callback_data'=>"none"),array('text'=>"$value",'callback_data'=>"multi_$key"));
		}
	}
	if($groups[$chat_id]!='english'){
		$list[]=array(array('text'=>"Ø¨Ø±Ú¯Ø´ØªğŸ”™",'callback_data'=>"managemant_group"));
	}else{
		$list[]=array(array('text'=>"BackğŸ”™",'callback_data'=>"managemant_group"));
	}
	return json_encode(array('resize_keyboard'=>true,'inline_keyboard'=>$list));
}
function buttonCompulsoryadd($oders){
	$chat_id=chat_id();
	$groups=json_decode(file_get_contents('data/bot/groups.json'),true);
	if($groups[$chat_id]!='english'){
		if($oders['compulsory_add']=='âœ…'){
			return json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"$oders[compulsory_add]",'callback_data'=>"compulsory_add"],['text'=>"Ø§Ø¯ Ø§Ø¬Ø¨Ø§Ø±ÛŒ",'callback_data'=>"none"]],
			[['text'=>"$oders[statistics_compulsory_add]",'callback_data'=>"none"],['text'=>"Ø¢Ù…Ø§Ø± Ø§Ø¯",'callback_data'=>"none"]],
			[['text'=>"$oders[number_compulsory_add]",'callback_data'=>"none"],['text'=>"ØªØ¹Ø¯Ø§Ø¯ Ø§Ø¯",'callback_data'=>"none"]],
			[['text'=>"â•",'callback_data'=>"c_add+"],['text'=>"â–",'callback_data'=>"c_add-"]],
			[['text'=>"Ø¨Ø±Ú¯Ø´ØªğŸ”™",'callback_data'=>"managemant_group"]]
			]]);
		}else{
			return json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"$oders[compulsory_add]",'callback_data'=>"compulsory_add"],['text'=>"Ø§Ø¯ Ø§Ø¬Ø¨Ø§Ø±ÛŒ",'callback_data'=>"none"]],
			[['text'=>"$oders[statistics_compulsory_add]",'callback_data'=>"none"],['text'=>"Ø¢Ù…Ø§Ø± Ø§Ø¯",'callback_data'=>"none"]],
			[['text'=>"Ø¨Ø±Ú¯Ø´ØªğŸ”™",'callback_data'=>"managemant_group"]]
			]]);
		}
	}else{
		if($oders['compulsory_add']=='âœ…'){
			return json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"Compulsory add",'callback_data'=>"none"],['text'=>"$oders[compulsory_add]",'callback_data'=>"compulsory_add"]],
			[['text'=>"Statistics add",'callback_data'=>"none"],['text'=>"$oders[statistics_compulsory_add]",'callback_data'=>"none"]],
			[['text'=>"Number add",'callback_data'=>"none"],['text'=>"$oders[number_compulsory_add]",'callback_data'=>"none"]],
			[['text'=>"â–",'callback_data'=>"c_add-"],['text'=>"â•",'callback_data'=>"c_add+"]],
			[['text'=>"BackğŸ”™",'callback_data'=>"managemant_group"]]
			]]);
		}else{
			return json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"Compulsory add",'callback_data'=>"none"],['text'=>"$oders[compulsory_add]",'callback_data'=>"compulsory_add"]],
			[['text'=>"Statistics add",'callback_data'=>"none"],['text'=>"$oders[statistics_compulsory_add]",'callback_data'=>"none"]],
			[['text'=>"BackğŸ”™",'callback_data'=>"managemant_group"]]
			]]);
		}
	}
}
function buttonCompulsoryJoin($oders){
	$chat_id=chat_id();
	$groups=json_decode(file_get_contents('data/bot/groups.json'),true);
	if($groups[$chat_id]!='english'){
		if($oders['channel_compulsory_join']=='No set'){
			$oders['channel_compulsory_join']='ØªÙ†Ø¸ÛŒÙ… Ù†Ø´Ø¯Ù‡';
		}
		return json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
		[['text'=>"$oders[compulsory_join]",'callback_data'=>"compulsory_join"],['text'=>"Ø¹Ø¶ÙˆÛŒØª Ø§Ø¬Ø¨Ø§Ø±ÛŒ",'callback_data'=>"none"]],
		[['text'=>"$oders[channel_compulsory_join]",'callback_data'=>"none"],['text'=>"Ú©Ø§Ù†Ø§Ù„ Ø¹Ø¶ÙˆÛŒØª",'callback_data'=>"none"]],
		[['text'=>"Ø­Ø°Ù Ú©Ø§Ù†Ø§Ù„",'callback_data'=>"delete_channel_c_join"],['text'=>"ØªÙ†Ø¸ÛŒÙ… Ú©Ø§Ù†Ø§Ù„",'callback_data'=>"set_channel_c_join"]],
		[['text'=>"Ø¨Ø±Ú¯Ø´ØªğŸ”™",'callback_data'=>"managemant_group"]]
		]]);
	}else{
		return json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
		[['text'=>"Compulsory join",'callback_data'=>"none"],['text'=>"$oders[compulsory_join]",'callback_data'=>"compulsory_join"]],
		[['text'=>"Channel join",'callback_data'=>"none"],['text'=>"$oders[channel_compulsory_join]",'callback_data'=>"none"]],
		[['text'=>"Set channel",'callback_data'=>"set_channel_c_join"],['text'=>"Delete channel",'callback_data'=>"delete_channel_c_join"]],
		[['text'=>"BackğŸ”™",'callback_data'=>"managemant_group"]]
		]]);
	}
}
function cancelCompulsoryJoin(){
	$chatid=chat_id();
	$groups=json_decode(file_get_contents('data/bot/groups.json'),true);
	if($groups[$chatid]!='english'){
		return json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
		[['text'=>"Ù„ØºÙˆâŒ",'callback_data'=>"chancel_compulsory_join"]]
		]]);
	}else{
		return json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
		[['text'=>"CancelâŒ",'callback_data'=>"chancel_compulsory_join"]]
		]]);
	}
}
function buttonFrequentMessage($oders){
	$chat_id=chat_id();
	$groups=json_decode(file_get_contents('data/bot/groups.json'),true);
	if($groups[$chat_id]!='english'){
		if($oders['frequent_message']=='âœ…'){
			if($oders['reaction_frequent_message']=='Silent user'){
				$oders['reaction_frequent_message']='Ø³Ú©ÙˆØª Ú©Ø§Ø±Ø¨Ø±';
			}
			elseif($oders['reaction_frequent_message']=='Kick user'){
				$oders['reaction_frequent_message']='Ø§Ø®Ø±Ø§Ø¬ Ú©Ø§Ø±Ø¨Ø±';
			}
			return json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"$oders[frequent_message]",'callback_data'=>"frequent_message"],['text'=>"Ù¾ÛŒØ§Ù… Ù…Ú©Ø±Ø±",'callback_data'=>"none"]],
			[['text'=>"$oders[number_frequent_message]",'callback_data'=>"none"],['text'=>"ØªØ¹Ø¯Ø§Ø¯ Ù…Ø¬Ø§Ø² / Ø«Ø§Ù†ÛŒÙ‡",'callback_data'=>"none"]],
			[['text'=>"â–",'callback_data'=>"f_message-"],['text'=>"â•",'callback_data'=>"f_message+"]],
			[['text'=>"$oders[reaction_frequent_message]",'callback_data'=>"reaction_frequent_message"],['text'=>"ÙˆØ§Ú©Ù†Ø´",'callback_data'=>"none"]],
			[['text'=>"Ø¨Ø±Ú¯Ø´ØªğŸ”™",'callback_data'=>"managemant_group"]]
			]]);
		}else{
			return json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"$oders[frequent_message]",'callback_data'=>"frequent_message"],['text'=>"Ù¾ÛŒØ§Ù… Ù…Ú©Ø±Ø±",'callback_data'=>"none"]],
			[['text'=>"Ø¨Ø±Ú¯Ø´ØªğŸ”™",'callback_data'=>"managemant_group"]]
			]]);
		}
	}else{
		if($oders['frequent_message']=='âœ…'){
			return json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"Frequent message",'callback_data'=>"none"],['text'=>"$oders[frequent_message]",'callback_data'=>"frequent_message"]],
			[['text'=>"Number authorized / second",'callback_data'=>"none"],['text'=>"$oders[number_frequent_message]",'callback_data'=>"none"]],
			[['text'=>"â–",'callback_data'=>"f_message-"],['text'=>"â•",'callback_data'=>"f_message+"]],
			[['text'=>"Reaction",'callback_data'=>"none"],['text'=>"$oders[reaction_frequent_message]",'callback_data'=>"reaction_frequent_message"]],
			[['text'=>"BackğŸ”™",'callback_data'=>"managemant_group"]]
			]]);
		}else{
			return json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"Frequent message",'callback_data'=>"none"],['text'=>"$oders[frequent_message]",'callback_data'=>"frequent_message"]],
			[['text'=>"BackğŸ”™",'callback_data'=>"managemant_group"]]
			]]);
		}
	}
}
function buttonCharacterConstraint($oders){
	$chat_id=chat_id();
	$groups=json_decode(file_get_contents('data/bot/groups.json'),true);
	if($groups[$chat_id]!='english'){
		if($oders['character_constraint']=='âœ…'){
			return json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"$oders[character_constraint]",'callback_data'=>"character_constraint"],['text'=>"Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ú©Ø§Ø±Ø§Ú©ØªØ±",'callback_data'=>"none"]],
			[['text'=>"$oders[highest_number_character_constraint]",'callback_data'=>"none"],['text'=>"Ø¨ÛŒØ´ØªØ±ÛŒÙ† ØªØ¹Ø¯Ø§Ø¯",'callback_data'=>"none"]],
			[['text'=>"â–10",'callback_data'=>"high_c_constraint_1-"],['text'=>"â•10",'callback_data'=>"high_c_constraint_1+"]],
			[['text'=>"â–100",'callback_data'=>"high_c_constraint_2-"],['text'=>"â•100",'callback_data'=>"high_c_constraint_2+"]],
			[['text'=>"Ø¨Ø±Ú¯Ø´ØªğŸ”™",'callback_data'=>"managemant_group"]]
			]]);
		}else{
			return json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"$oders[character_constraint]",'callback_data'=>"character_constraint"],['text'=>"Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ú©Ø§Ø±Ø§Ú©ØªØ±",'callback_data'=>"none"]],
			[['text'=>"Ø¨Ø±Ú¯Ø´ØªğŸ”™",'callback_data'=>"managemant_group"]]
			]]);
		}
	}else{
		if($oders['character_constraint']=='âœ…'){
			return json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"Character constraint",'callback_data'=>"none"],['text'=>"$oders[character_constraint]",'callback_data'=>"character_constraint"]],
			[['text'=>"Highest number",'callback_data'=>"none"],['text'=>"$oders[highest_number_character_constraint]",'callback_data'=>"none"]],
			[['text'=>"â–10",'callback_data'=>"high_c_constraint_1-"],['text'=>"â•10",'callback_data'=>"high_c_constraint_1+"]],
			[['text'=>"â–100",'callback_data'=>"high_c_constraint_2-"],['text'=>"â•100",'callback_data'=>"high_c_constraint_2+"]],
			[['text'=>"BackğŸ”™",'callback_data'=>"managemant_group"]]
			]]);
		}else{
			return json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"Character constraint",'callback_data'=>"none"],['text'=>"$oders[character_constraint]",'callback_data'=>"character_constraint"]],
			[['text'=>"BackğŸ”™",'callback_data'=>"managemant_group"]]
			]]);
		}
	}
}
function buttonSilent($oders){
	$chat_id=chat_id();
	$groups=json_decode(file_get_contents('data/bot/groups.json'),true);
	if($oders['silent_group']=='âœ…'){
		if($groups[$chat_id]!='english'){
			return json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>$oders['silent_group'],'callback_data'=>"silent_group"],['text'=>"Ø³Ú©ÙˆØª Ú¯Ø±ÙˆÙ‡",'callback_data'=>"none"]],
			[['text'=>$oders['silent_start'],'callback_data'=>"none"],['text'=>"Ø§Ø² Ø³Ø§Ø¹Øª",'callback_data'=>"none"]],
			[['text'=>"â–",'callback_data'=>"silent_start-"],['text'=>"â•",'callback_data'=>"silent_start+"]],
			[['text'=>$oders['silent_stop'],'callback_data'=>"none"],['text'=>"ØªØ§ Ø³Ø§Ø¹Øª",'callback_data'=>"none"]],
			[['text'=>"â–",'callback_data'=>"silent_stop-"],['text'=>"â•",'callback_data'=>"silent_stop+"]],
			[['text'=>"Ù„ÛŒØ³Øª Ø³Ú©ÙˆØª",'callback_data'=>"silent_list"]],
			[['text'=>"Ø¨Ø±Ú¯Ø´ØªğŸ”™",'callback_data'=>"managemant_group"]]
			]]);
		}else{
			return json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"Silent group",'callback_data'=>"none"],['text'=>$oders['silent_group'],'callback_data'=>"silent_group"]],
			[['text'=>"Start time",'callback_data'=>"none"],['text'=>$oders['silent_start'],'callback_data'=>"none"]],
			[['text'=>"â–",'callback_data'=>"silent_start-"],['text'=>"â•",'callback_data'=>"silent_start+"]],
			[['text'=>"End time",'callback_data'=>"none"],['text'=>$oders['silent_stop'],'callback_data'=>"none"]],
			[['text'=>"â–",'callback_data'=>"silent_stop-"],['text'=>"â•",'callback_data'=>"silent_stop+"]],
			[['text'=>"Silent list",'callback_data'=>"silent_list"]],
			[['text'=>"BackğŸ”™",'callback_data'=>"managemant_group"]]
			]]);
		}
	}else{
		if($groups[$chat_id]!='english'){
			return json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>$oders['silent_group'],'callback_data'=>"silent_group"],['text'=>"Ø³Ú©ÙˆØª Ú¯Ø±ÙˆÙ‡",'callback_data'=>"none"]],
			[['text'=>"Ù„ÛŒØ³Øª Ø³Ú©ÙˆØª",'callback_data'=>"silent_list"]],
			[['text'=>"Ø¨Ø±Ú¯Ø´ØªğŸ”™",'callback_data'=>"managemant_group"]]
			]]);
		}else{
			return json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"Silent group",'callback_data'=>"none"],['text'=>$oders['silent_group'],'callback_data'=>"silent_group"]],
			[['text'=>"Ù„ÛŒØ³Øª Ø³Ú©ÙˆØª",'callback_data'=>"silent_list"]],
			[['text'=>"BackğŸ”™",'callback_data'=>"managemant_group"]]
			]]);
		}
	}
}
function buttonSilentList($silent_list){
	$number=-1;
	$button=array();
	foreach($silent_list as $key=>$value){
		$number=$number+1;
		$name=getChat($key)->result->first_name;
		$button[$number]=array(array('text'=>"$name",'callback_data'=>"info-$key"),array('text'=>'âŒ','callback_data'=>"delete-$key"));
	}
	$chat_id=chat_id();
	$groups=json_decode(file_get_contents('data/bot/groups.json'),true);
	if($groups[$chat_id]!='english'){
		$button[]=array(array('text'=>"â™¨ï¸Ø­Ø°Ù Ù‡Ù…Ù‡â™¨ï¸",'callback_data'=>"delete_all_silent"));
		$button[]=array(array('text'=>"Ø¨Ø±Ú¯Ø´ØªğŸ”™",'callback_data'=>"settings_silent"));
	}else{
		$button[]=array(array('text'=>"â™¨ï¸Delete allâ™¨ï¸",'callback_data'=>"delete_all_silent"));
		$button[]=array(array('text'=>"BackğŸ”™",'callback_data'=>"settings_silent"));
	}
	return json_encode(array('resize_keyboard'=>true,'inline_keyboard'=>$button));
}
function buttonPanelPrivate($chat_id){
    $admins = array(388223589,554355765);
	$list=array();
	$members=json_decode(file_get_contents("data/bot/members.json"),true);
	if($members[$chat_id]!='english'){
		$list[]=array(array('text'=>"Ø§ÙØ²ÙˆØ¯Ù† Ø±Ø¨Ø§Øª Ø¨Ù‡ Ú¯Ø±ÙˆÙ‡ğŸš€",'url'=>"https://telegram.me/bonabit_security_bot?startgroup=new"));
		$list[]=array(array('text'=>"Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒğŸ—",'callback_data'=>"support"),array('text'=>"Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ú©Ø§Ù…Ù„ğŸ“š",'callback_data'=>"full_guide"));
		$list[]=array(array('text'=>"ØªØºÛŒÛŒØ± Ø²Ø¨Ø§Ù†ğŸ—£",'callback_data'=>"change_language"),array('text'=>"Ø§Ù…ØªÛŒØ§Ø²ğŸŒŸ",'url'=>"https://telegram.me/storebot?start=bonabit_security_bot"));
		$list[]=array(array('text'=>"Ú©Ø§Ù†Ø§Ù„ Ù…Ø§ (Ø§Ø®Ø¨Ø§Ø± Ùˆ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø±Ø¨Ø§Øª)ğŸ’",'url'=>"https://t.me/bonabit"));
if(in_array($chat_id,$admins)){
			$list[]=array(array('text'=>"ğŸƒÙ…Ø¯ÛŒØ±ÛŒØªğŸƒ",'callback_data'=>"managemant"));
		}
	}else{
		$list[]=array(array('text'=>"Add the robot to your groupğŸš€",'url'=>"https://telegram.me/bonabit_security_bot?startgroup=new"));
		$list[]=array(array('text'=>"SupportğŸ—",'callback_data'=>"support"),array('text'=>"Full guideğŸ“š",'callback_data'=>"full_guide"));
		$list[]=array(array('text'=>"Change languageğŸ—£",'callback_data'=>"change_language"),array('text'=>"PointsğŸŒŸ",'url'=>"https://telegram.me/storebot?start=bonabit_security_bot"));
		$list[]=array(array('text'=>"Our channel (News and information of the robot)ğŸ’",'url'=>"https://t.me/bonabit"));
if(in_array($chat_id,$admins)){
			$list[]=array(array('text'=>"ğŸƒManagemantğŸƒ",'callback_data'=>"managemant"));
		}
	}
	return json_encode(['resize_keyboard'=>true,'inline_keyboard'=>$list]);
}
function buttonManagemant($chat_id){
	$groups=json_decode(file_get_contents('data/bot/groups.json'),true);
	$members=json_decode(file_get_contents("data/bot/members.json"),true);
	$count_groups=count($groups);
	$count_members=count($members);
	if($members[$chat_id]!='english'){
		return json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
		[['text'=>"$count_groups",'callback_data'=>"none"],['text'=>"ØªØ¹Ø¯Ø§Ø¯ Ú¯Ø±ÙˆÙ‡ Ù‡Ø§",'callback_data'=>"none"]],
		[['text'=>"$count_members",'callback_data'=>"none"],['text'=>"ØªØ¹Ø¯Ø§Ø¯ Ø§Ø¹Ø¶Ø§",'callback_data'=>"none"]],
		[['text'=>'ÙÙˆØ±ÙˆØ§Ø±Ø¯','callback_data'=>'forward'],['text'=>'ÙÙˆØ±ÙˆØ§Ø±Ø¯ (Ú¯Ø±ÙˆÙ‡)','callback_data'=>'forward_group']],
		[['text'=>"Ø¨Ø±Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆğŸ”™",'callback_data'=>"managemant_group_private"]]
		]]);
	}else{
		return json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
		[['text'=>"Number of groups",'callback_data'=>"none"],['text'=>"$count_groups",'callback_data'=>"none"]],
		[['text'=>"Number of members",'callback_data'=>"none"],['text'=>"$count_members",'callback_data'=>"none"]],
		[['text'=>'Forward','callback_data'=>'forward'],['text'=>'Forward (Group)','callback_data'=>'forward_group']]
		[['text'=>"Back to menuğŸ”™",'callback_data'=>"managemant_group_private"]]
		]]);
	}
}
#variables
$update=json_decode(file_get_contents('php://input'));
$update2=json_decode(file_get_contents('php://input'),true);
$text=$update->message->text;
$chatid=chat_id();
$fromid=from_id();
$message_id=$update->message->message_id;
$new_chat_member_id=$update->message->new_chat_member->id;
$data=$update->callback_query->data;
$message_id2=$update->callback_query->message->message_id;
$tc=$update->message->chat->type;
$tc2=$update->callback_query->message->chat->type;
$replyid=$update->message->reply_to_message->from->id;
$reply_name=$update->message->reply_to_message->from->first_name;
$first_name=$update->message->from->first_name;
$filter_cmd=filterCmd($text);
$situation=situation($fromid);
$situation3=situationFilters($fromid);
$lock_list='sticker,photo,gif,video,videoselfi,voice,music,document,contact,location,game,text,link,username,hashtag,bold,italic,coding,forward,tgservice,reply,caption,bot,join';
$groups=json_decode(file_get_contents('data/bot/groups.json'),true);
$members=json_decode(file_get_contents("data/bot/members.json"),true);
$settings=json_decode(file_get_contents("data/groups/$chatid/settings.json"),true);
$oders=json_decode(file_get_contents("data/groups/$chatid/oders.json"),true);
$number_add=json_decode(file_get_contents("data/groups/$chatid/number_add.json"),true);
$silent_list=json_decode(file_get_contents("data/groups/$chatid/silent_list.json"),true);
$exempt_list=json_decode(file_get_contents("data/groups/$chatid/exempt_list.json"),true);
$spam=json_decode(file_get_contents("data/groups/$chatid/spam.json"),true);
$update=json_decode(file_get_contents('php://input'));
$from_id=$update->message->from->id;
$fromoid=$update->callback_query->from->id;
$boot = explode(':',$token);
$botid = $boot[0];
$newchatmemberid = $update->message->new_chat_member->id;
$join_channel=json_decode(file_get_contents_curl("https://api.telegram.org/bot".API_KEY."/getChatMember?chat_id=@bonabit&user_id=".$from_id))->result->status;
$join_channel2=json_decode(file_get_contents_curl("https://api.telegram.org/bot".API_KEY."/getChatMember?chat_id=@bonabit&user_id=".$fromoid))->result->status;
$status=json_decode(file_get_contents_curl("https://api.telegram.org/bot".API_KEY."/getChatMember?chat_id=".$update->message->chat->id."&user_id=".$update->message->from->id))->result->status;
$status2=json_decode(file_get_contents_curl("https://api.telegram.org/bot".API_KEY."/getChatMember?chat_id=".$update->callback_query->message->chat->id."&user_id=".$update->callback_query->from->id))->result->status;
$text_panel_fa="ğŸ”¸Ø§Ø² Ú©ÛŒØ¨ÙˆØ±Ø¯ Ø²ÛŒØ± Ø¨Ø±Ø§ÛŒ ÙØ¹Ø§Ù„ ÛŒØ§ ØºÛŒØ± ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† ÛŒÚ© Ú¯Ø²ÛŒÙ†Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯ !\n\nâœ…=ÙØ¹Ø§Ù„\nâ˜‘ï¸=ØºÛŒØ± ÙØ¹Ø§Ù„";
$text_panel_en="ğŸ”¸Use the keyboard to disable or enable the options !\n\nâœ…=active\nâ˜‘ï¸=deactive";
$text_start_fa="Ø³Ù„Ø§Ù… $first_nameğŸŒ¹\n\nØ¨Ù‡ Ø±Ø¨Ø§Øª Ù‡ÙˆØ´Ù…Ù†Ø¯ $bot_name Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯.\nØ¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§ÛŒÙ† Ø±Ø¨Ø§Øª Ù…ÛŒ ØªÙˆØ§Ù†ÛŒØ¯ Ú¯Ø±ÙˆÙ‡ Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù‡ Ø¢Ø³Ø§Ù†ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†ÛŒØ¯ !\nØ§ÛŒÙ† Ø±Ø¨Ø§Øª Ù‚Ø§Ø¨Ù„ÛŒØª Ù‡Ø§ÛŒ Ú©Ù„ÛŒØ¯ÛŒ Ùˆ Ø¨Ø³ÛŒØ§Ø±ÛŒ Ø¯Ø§Ø±Ø¯ Ú©Ù‡ Ù…ÛŒ ØªÙˆØ§Ù†Ø¯ Ø¯Ø± Ú¯Ø±ÙˆÙ‡ØªØ§Ù† Ø¨Ù‡ Ø´Ù…Ø§ Ú©Ù…Ú© Ø¨Ø³ÛŒØ§Ø±ÛŒ Ø¨Ú©Ù†Ø¯.\n\nğŸ’¯Ø§Ø² Ø¬Ù…Ù„Ù‡ :ğŸ’¯\n\nğŸ”¸Ø­Ø°Ù Ù„ÛŒÙ†Ú© Ùˆ ÛŒÙˆØ²Ø±Ù†ÛŒÙ…\nğŸ”¹Ø­Ø°Ù Ù¾ÛŒØ§Ù… Ù‡Ø§ÛŒ Ú©Ø¯ Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯Ù‡\nğŸ”¸Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² ÙˆØ±ÙˆØ¯ Ø±Ø¨Ø§Øª Ù‡Ø§ÛŒ Ù…Ø®Ø±Ø¨\nğŸ”¹Ø­Ø°Ù Ø¹Ú©Ø³ / ÙÛŒÙ„Ù… / Ú¯ÛŒÙ / Ø§Ø³ØªÛŒÚ©Ø± Ùˆ...\nğŸ”¸Ù…Ø¬Ø¨ÙˆØ± Ú©Ø±Ø¯Ù† Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¨Ø±Ø§ÛŒ Ø§ÙØ²ÙˆØ¯Ù† Ø¹Ø¶Ùˆ Ø¨Ù‡ Ú¯Ø±ÙˆÙ‡\nğŸ”¹Ú¯Ø°Ø§Ø´ØªÙ† Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ø§Ú©ØªØ± Ù‡Ø§ÛŒ Ù…ØªÙ†\nğŸ”¹Ú¯Ø±ÙØªÙ† Ù‚Ø§Ø¨Ù„ÛŒØª Ú†Øª Ú©Ø§Ø±Ø¨Ø±\nğŸ”¸Ù…Ø¬Ø¨ÙˆØ± Ú©Ø±Ø¯Ù† Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¨Ù‡ Ø¹Ø¶ÙˆÛŒØª Ø¯Ø± Ú©Ø§Ù†Ø§Ù„ Ø´Ù…Ø§\nğŸ”¹Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ù‡Ø§ÛŒ Ù¾Ø´Øª Ø³Ø± Ù‡Ù… Ùˆ Ø§ÛŒØ¬Ø§Ø¯ Ù…Ø²Ø§Ø­Ù…Øª Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ú¯Ø±ÙˆÙ‡ Ø´Ù…Ø§\nğŸ”¸Ø¯Ø³ØªØ±Ø³ÛŒ Ø±Ø§Ø­Øª Ø¨Ù‡ Ù‚ÙÙ„ Ù‡Ø§ Ùˆ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¨Ø§ Ø§Ø±Ø³Ø§Ù„ Ù†Ø§Ù… Ù‚ÙÙ„ÛŒ Ú©Ù‡ Ù…ÛŒ Ø®ÙˆØ§Ù‡ÛŒØ¯ Ø¢Ù† Ø±Ø§ ØªØºÛŒÛŒØ± Ø¯Ù‡ÛŒØ¯\nÙˆ....\n\nâ™¨ï¸Ø´Ù…Ø§ Ù…ÛŒØªÙˆØ§Ù†ÛŒØ¯ Ø§ÛŒÙ† Ù‚Ø§Ø¨Ù„ÛŒØª Ù‡Ø§ Ø±Ø§ Ø¨Ù‡ Ø¯Ù„Ø®ÙˆØ§Ù‡ ÙØ¹Ø§Ù„ ÛŒØ§ ØºÛŒØ± ÙØ¹Ø§Ù„ Ú©Ù†ÛŒØ¯ !â™¨ï¸\n\nØ¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒÛŒ Ù‡Ø§ÛŒ Ø¨ÛŒØ´ØªØ± Ø¨Ù‡ Ø¨Ø®Ø´ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø±Ø¨Ø§Øª Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ú©Ù†ÛŒØ¯ã€½ï¸\n\n[Ú©Ø§Ù†Ø§Ù„ Ù…Ø§](https://t.me/bonabit)";
$text_start_en="Hello $first_nameğŸŒ¹\n\nWelcome to the $bot_name smart robot.\nWith this robot, you can easily manage your group !\nThis robot has many key features that can help you in your group.\n\nğŸ’¯Including :ğŸ’¯\n\nğŸ”¸Delete Links and Usernames\nğŸ”¹Delete encrypted messages\nğŸ”¸Prevent the entry of malicious robots\nğŸ”¹Remove photo / movie / gif / sticker and ...\nğŸ”¸Force users to add member to the group\nğŸ”¹Put restrictions on text characters\nğŸ”¹Capturing user chat feature\nğŸ”¸Forcing users to join to your channel\nğŸ”¹Avoid sending burst messages and harassing users in your group by members\nğŸ”¸Easily access locks and settings by sending the name of the lock you want to change\nAnd....\n\nâ™¨ï¸You can enable or disable these features individually !â™¨ï¸\n\nRefer to the robot guide for more helpã€½ï¸\n\n[Ú©Ø§Ù†Ø§Ù„ Ù…Ø§](https://t.me/bonabit)";
#buttons
$button_chancel_compulsory_join=cancelCompulsoryJoin();
$re_add_bot=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
[['text'=>"ğŸ·Re-add robotğŸ·",'url'=>"https://telegram.me/bonabit_security_bot?startgroup=new"]],
[['text'=>"ğŸ·Ø§ÙØ²ÙˆØ¯Ù† Ù…Ø¬Ø¯Ø¯ Ø±Ø¨Ø§ØªğŸ·",'url'=>"https://telegram.me/bonabit_security_bot?startgroup=new"]]
]]);
$button_select_lan=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
[['text'=>"EnglishğŸ‡ºğŸ‡¸",'callback_data'=>"selected_english"],['text'=>"ÙØ§Ø±Ø³ÛŒğŸ‡®ğŸ‡·",'callback_data'=>"selected_persian"]]
]]);
#make default files and folders
if(!is_dir('data')){
	mkdir('data');
}
if(!is_dir('data/bot')){
	mkdir('data/bot');
}
if(!is_dir('data/groups')){
	mkdir('data/groups');
}
#not admin
if($status2=='member' && isset($data) && $tc2!='private'){
	if($groups[$chatid]!='english'){
		answerCallbackQuery("Ø´Ù…Ø§ Ø§Ø¯Ù…ÛŒÙ† Ù†ÛŒØ³ØªÛŒØ¯ !âš ï¸",true);
	}
	elseif($groups[$chatid]=='english'){
		answerCallbackQuery("You are not a group admin !âš ï¸",true);
	}
	elseif($groups[$chatid]==null){
		answerCallbackQuery("Ø´Ù…Ø§ Ø§Ø¯Ù…ÛŒÙ† Ù†ÛŒØ³ØªÛŒØ¯ !âš ï¸\n\nYou are not a group admin !âš ï¸",true);
	}
	die;
}
if($newchatmemberid == $botid and $tc == 'supergroup'){
    sendMessage($chatid,"Ø³Ù„Ø§Ù…ØŒÙ…Ø­Ø§ÙØ¸ Ú¯Ø±ÙˆÙ‡ Ù‡Ø³ØªÙ…
    Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ú©Ø±Ø¯ Ø±Ø¨Ø§Øª Ø¯Ø± Ú¯Ø±ÙˆÙ‡ Ù„Ø§Ø²Ù… Ø§Ø³Øª Ú©Ù‡ Ù…Ø¯ÛŒØ± Ú¯Ø±ÙˆÙ‡ Ø¨Ø§Ø´Ø¯ØŒØ¨Ø¹Ø¯ Ø§Ø² Ù…Ø¯ÛŒØ± Ú©Ø±Ø¯Ù† Ø±Ø¨Ø§Øª Ø¯Ø± Ú¯Ø±ÙˆÙ‡ Ø¯Ø³ØªÙˆØ± Ø²ÛŒØ± Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯.
    `Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ`",'markdown');
}
#left group
if($tc=='group'){
	sendMessage($chatid,"âš ï¸Ø®Ø·Ø§âš ï¸\n\nÙ„Ø·ÙØ§ Ø§Ø¨ØªØ¯Ø§ Ú¯Ø±ÙˆÙ‡ Ø±Ø§ Ø¨ Ø³ÙˆÙ¾Ø± Ú¯Ø±ÙˆÙ‡ ØªØ¨Ø¯ÛŒÙ„ Ú©Ù†ÛŒØ¯ Ùˆ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø±Ø¨Ø§Øª Ø±Ø§ Ø§Ø¯ Ú©Ù†ÛŒØ¯â€¼ï¸\n\nâ–â–â–â–â–â–â–â–â–â–â–â–â–â–\n\nâš ï¸Errorâš ï¸\n\nPlease upgrade the group to the supergroup and add the robot againâ€¼ï¸",'HTML',$re_add_bot,$message_id);
	leaveChat($chatid);
}
#delete group
if(isset($update->message->left_chat_member) && $oders['config']=='âœ…'){
	rmdir('data/groups/'.$chatid);
	$id=array_search($chatid,$groups);
	unset($groups[$id]);
	saveJson('data/bot/groups.json',$groups);
}
#ok config
if(($filter_cmd=='config' || $filter_cmd=='Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ' || $filter_cmd=='configSultan_GpBot' || $filter_cmd=='startSultan_GpBot' || $filter_cmd=='add' || $filter_cmd=='Ø§ÙØ²ÙˆØ¯Ù†') && $tc=='supergroup' && $status!='member'){
	if($oders['config']!='âœ…'){
		sendMessage($chatid,"â£ï¸Ù„Ø·ÙØ§ Ø²Ø¨Ø§Ù† Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯ :\n\nâ–â–â–â–â–â–â–â–â–â–â–â–â–â–\n\nâ£ï¸Please choose your language :",'HTML',$button_select_lan,null);
	}else{
		if($groups[$chatid]!='english'){
			sendMessage($chatid,'Ø±Ø¨Ø§Øª Ù‚Ø¨Ù„Ø§ Ø¯Ø± Ú¯Ø±ÙˆÙ‡ Ø´Ù…Ø§ Ù†ØµØ¨ Ø¨ÙˆØ¯Ù‡ Ø§Ø³Øªâ€¼ï¸','HTML',null,$message_id);
		}else{
			sendMessage($chatid,'The robot has already been installed in your groupâ€¼ï¸','HTML',null,$message_id);
		}
		deleteMessage($chatid,$message_id);
	}
}
if($data=='selected_persian' || $data=='selected_english'){
	if($tc2=='supergroup' && $oders['config']!='âœ…'){
		if(!is_dir("data/groups/$chatid")){
			mkdir("data/groups/$chatid");
		}
		$settings=json_encode(['sticker'=>'â˜‘ï¸','photo'=>'â˜‘ï¸','gif'=>'â˜‘ï¸','video'=>'â˜‘ï¸','videoselfi'=>'â˜‘ï¸','voice'=>'â˜‘ï¸','music'=>'â˜‘ï¸','document'=>'â˜‘ï¸','contact'=>'â˜‘ï¸','location'=>'â˜‘ï¸','game'=>'â˜‘ï¸','text'=>'â˜‘ï¸','link'=>'â˜‘ï¸','username'=>'â˜‘ï¸','hashtag'=>'â˜‘ï¸','bold'=>'â˜‘ï¸','italic'=>'â˜‘ï¸','coding'=>'â˜‘ï¸','forward'=>'â˜‘ï¸','tgservice'=>'â˜‘ï¸','reply'=>'â˜‘ï¸','caption'=>'â˜‘ï¸','bot'=>'â˜‘ï¸','join'=>'â˜‘ï¸']);
		file_put_contents("data/groups/$chatid/settings.json",$settings);
		$oders=json_encode(['config'=>'âœ…','step'=>'none','compulsory_add'=>'â˜‘ï¸','number_compulsory_add'=>5,'statistics_compulsory_add'=>0,'compulsory_join'=>'â˜‘ï¸','channel_compulsory_join'=>'No set','frequent_message'=>'â˜‘ï¸','number_frequent_message'=>5,'reaction_frequent_message'=>'Silent user','character_constraint'=>'â˜‘ï¸','highest_number_character_constraint'=>300,'silent_group'=>'â˜‘ï¸','silent_start'=>1,'silent_stop'=>7,'silent_ok'=>'â˜‘ï¸']);
		file_put_contents("data/groups/$chatid/oders.json",$oders);
		file_put_contents("data/groups/$chatid/number_add.json","");
		file_put_contents("data/groups/$chatid/join.json","");
		file_put_contents("data/groups/$chatid/silent_list.json","");
		file_put_contents("data/groups/$chatid/spam.json","");
		file_put_contents("data/groups/$chatid/exempt_list.json","");
		if($data=='selected_persian'){
			$groups[$chatid]='ÙØ§Ø±Ø³ÛŒ';
			$complete_config=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ú¯Ø±ÙˆÙ‡ğŸ› ",'callback_data'=>"managemant_group"]]
			]]);
			editMessageText($chatid,$message_id2,"Ø±Ø¨Ø§Øª Ø¨Ù‡ ØµÙˆØ±Øª Ø®ÙˆØ¯Ú©Ø§Ø± Ø¯Ø± Ú¯Ø±ÙˆÙ‡ Ø´Ù…Ø§ Ù†ØµØ¨ Ø´Ø¯ !ğŸš€\n\nğŸ”»Ø¨Ø±Ø§ÛŒ ÙˆØ±ÙˆØ¯ Ø¨Ù‡ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ú¯Ø±ÙˆÙ‡ Ø®ÙˆØ¯ Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ Ø²ÛŒØ± Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯ :",'HTML',$complete_config);
		}else{
			$groups[$chatid]='english';
			$complete_config=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"Managemant groupğŸ› ",'callback_data'=>"managemant_group"]]
			]]);
			editMessageText($chatid,$message_id2,"The robot was automatically configured !ğŸš€\n\nğŸ”»Click the button below to login to your group management menu :",'HTML',$complete_config);
		}
		saveJson('data/bot/groups.json',$groups);
	}
}
#complete config
if($data=='managemant_group'){
	if($join_channel2!='member' && $join_channel2!='administrator' && $join_channel2!='creator'){
	    if($groups[$chatid]!='english'){
			$text="Ú©Ø§Ø±Ø¨Ø± Ú¯Ø±Ø§Ù…ÛŒğŸŒ¹\nØ´Ù…Ø§ Ø¨Ø§ÛŒØ¯ Ø­ØªÙ…Ø§ Ø¹Ø¶Ùˆ Ú©Ø§Ù†Ø§Ù„ Ù…Ø§ Ø´ÙˆÛŒØ¯ ØªØ§ Ø§Ø² Ø¢Ø®Ø±ÛŒÙ† Ø§Ø®Ø¨Ø§Ø± Ùˆ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø±Ø¨Ø§Øª Ø¨Ø±Ø®ÙˆØ±Ø¯Ø§Ø± Ø´ÙˆÛŒØ¯ !\nâ¬‡ï¸Ø¨Ø±Ø§ÛŒ Ø¹Ø¶ÙˆÛŒØª Ø¯Ø± Ú©Ø§Ù†Ø§Ù„ Ù…Ø§ Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ Ø²ÛŒØ± Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯â¬‡ï¸";
			$button_join=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"ğŸ—Ù¾ÛŒÙˆØ³ØªÙ† Ø¨Ù‡ Ú©Ø§Ù†Ø§Ù„ Ù…Ø§ğŸ—",'url'=>"https://t.me/bonabit"]]
			]]);
		}
		elseif($groups[$chatid]=='english'){
			$text="Dear userğŸŒ¹\nYou must be a member of our channel to get the latest robot news and information !\nâ¬‡ï¸Click the button below to subscribe to our channelâ¬‡ï¸";
			$button_join=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"ğŸ—Join to our channelğŸ—",'url'=>"https://t.me/bonabit"]]
			]]);
		}
		elseif($groups[$chatid]==null){
			$text="Ú©Ø§Ø±Ø¨Ø± Ú¯Ø±Ø§Ù…ÛŒğŸŒ¹\nØ´Ù…Ø§ Ø¨Ø§ÛŒØ¯ Ø­ØªÙ…Ø§ Ø¹Ø¶Ùˆ Ú©Ø§Ù†Ø§Ù„ Ù…Ø§ Ø´ÙˆÛŒØ¯ ØªØ§ Ø§Ø² Ø¢Ø®Ø±ÛŒÙ† Ø§Ø®Ø¨Ø§Ø± Ùˆ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø±Ø¨Ø§Øª Ø¨Ø±Ø®ÙˆØ±Ø¯Ø§Ø± Ø´ÙˆÛŒØ¯ !\nâ¬‡ï¸Ø¨Ø±Ø§ÛŒ Ø¹Ø¶ÙˆÛŒØª Ø¯Ø± Ú©Ø§Ù†Ø§Ù„ Ù…Ø§ Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ Ø²ÛŒØ± Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯â¬‡ï¸\n\nâ–â–â–â–â–â–â–â–â–â–â–â–â–â–\n\nDear userğŸŒ¹\nYou must be a member of our channel to get the latest robot news and information !\nâ¬‡ï¸Click the button below to subscribe to our channelâ¬‡ï¸";
			$button_join=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"ğŸ—Ù¾ÛŒÙˆØ³ØªÙ† Ø¨Ù‡ Ú©Ø§Ù†Ø§Ù„ Ù…Ø§ğŸ—",'url'=>"https://t.me/bonabit"]],
			[['text'=>"ğŸ—Join to our channelğŸ—",'url'=>"https://t.me/bonabit"]]
			]]);
		}
		sendMessage($chatid,$text,'HTML',$button_join,$message_id);
		die; }else{
	if($situation=='ok'){
		if($groups[$chatid]!='english'){
			editMessageText($chatid,$message_id2,"Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø§Ø¯Ù…ÛŒÙ† Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯ğŸŒº\n\nØ§Ø² Ú©ÛŒØ¨ÙˆØ±Ø¯ Ø²ÛŒØ± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯ !âœ…",'HTML',buttonPanel($groups[$chatid]),null);
		}else{
			editMessageText($chatid,$message_id2,"Welcome to the admin menuğŸŒº\n\nUse the keyboard below !âœ…",'HTML',buttonPanel($groups[$chatid]),null);
		}
	}
}
}
#delete many message
if(strstr($filter_cmd,'delete') || strstr($filter_cmd,'Ø­Ø°Ù')){
	if($situation=='ok'){
		$ex=explode(' ',$filter_cmd);
		if($ex[0]!='delete' && $ex[0]!='Ø­Ø°Ù'){
			die;
		}
		$number=$ex[1];
		$number=trim($number);
		if($number>=1 && $number<=100){
			for($i=$message_id; $i>=$message_id-$number; $i--){
				deleteMessage($update->message->chat->id,$i);
			}
			if($groups[$chatid]!='english'){
				sendMessage($chatid,"ğŸš€ `$number` Ù¾ÛŒØ§Ù… Ù¾Ø§Ú© Ø´Ø¯ !",'MarkDown',null,null);
			}
			else{
				sendMessage($chatid,"ğŸš€ `$number` Messages deleted !",'MarkDown',null,null);
			}
			exit;
		}
		else{
			if($groups[$chatid]!='english'){
				sendMessage($chatid,'Ø¹Ø¯Ø¯ Ø¨Ø§ÛŒØ¯ Ø¨ÛŒÙ† 1 Ùˆ 100 Ø¨Ø§Ø´Ø¯ !âŒ','MarkDown',null,null);
			}
			else{
				sendMessage($chatid,'The number should be between 1 and 100 ! âŒ','MarkDown',null,null);
			}
		}
	}
}
#silent user
if($filter_cmd=='silent' || $filter_cmd=='Ø³Ú©ÙˆØª'){
	if($situation=='ok'){
		if($replyid!=null){
			$status=json_decode(file_get_contents('https://api.telegram.org/bot'.API_KEY.'/getChatMember?chat_id='.$chatid.'&user_id='.$replyid))->result->status;
			if($status=='member' || $status=='restricted'){
				if(!array_key_exists($replyid,$silent_list)){
					bot('RestrictChatMember',[
					'chat_id'=>$chatid,
					'user_id'=>$replyid,
					'can_post_messages'=>false,
					'can_add_web_page_previews'=>false,
					'can_send_other_messages'=>false,
					'can_send_media_messages'=>false,
					'can_edit_messages'=>false
					]);
					$silent_list[$replyid]=date('Y/m/d');
					saveJson('data/groups/'.$chatid.'/silent_list.json',$silent_list);
					if($groups[$chatid]!='english'){
						sendMessage($chatid,$reply_name.' ØªÙˆØ§Ù†Ø§ÛŒÛŒ Ú†Øª Ø®ÙˆØ¯ Ø±Ø§ Ø§Ø² Ø¯Ø³Øª Ø¯Ø§Ø¯ !ğŸš€','HTML',null,$message_id);
					}
					else{
						sendMessage($chatid,$reply_name.' Lost the ability to chat!ğŸš€','HTML',null,$message_id);
					}
				}else{
					if($groups[$chatid]!='english'){
						sendMessage($chatid,$reply_name.' Ø¯Ø± Ù„ÛŒØ³Øª Ø³Ú©ÙˆØª Ú¯Ø±ÙˆÙ‡ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯ â€¼ï¸','HTML',null,$message_id);
					}
					else{
						sendMessage($chatid,$reply_name.' is in the group\'s silent listâ€¼ï¸','HTML',null,$message_id);
					}
				}
			}
			elseif($status=='creator' || $status=='administrator'){
				if($groups[$chatid]!='english'){
					sendMessage($chatid,'Ø´Ù…Ø§ Ù†Ù…ÛŒ ØªÙˆØ§Ù†ÛŒØ¯ ØªÙˆØ§Ù†Ø§ÛŒÛŒ Ú†Øª ÛŒÚ© Ù…Ø¯ÛŒØ± Ø±Ø§ Ø¨Ú¯ÛŒØ±ÛŒØ¯ !âŒ','HTML',null,$message_id);
				}
				else{
					sendMessage($chatid,'You can not get a manager\'s ability to chat!âŒ','HTML',null,$message_id);
				}
			}
			elseif($status=='left' || $status=='kicked'){
				if($groups[$chatid]!='english'){
					sendMessage($chatid,'Ø§ÛŒÙ† Ú©Ø§Ø±Ø¨Ø± ÛŒØ§ÙØª Ù†Ø´Ø¯ !âŒ','HTML',null,$message_id);
				}
				else{
					sendMessage($chatid,'This user not found !âŒ','HTML',null,$message_id);
				}
			}
		}else{
			if($groups[$chatid]!='english'){
				sendMessage($chatid,'Ù„Ø·ÙØ§ Ø±ÙˆÛŒ ÛŒÚ© Ù¾ÛŒØ§Ù… Ø±ÛŒÙ¾Ù„Ø§ÛŒ Ú©Ù†ÛŒØ¯ Ùˆ Ø¯Ø³ØªÙˆØ± Ø±Ø§ Ù…Ø¬Ø¯Ø¯Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯â€¼ï¸','HTML',null,$message_id);
			}
			else{
				sendMessage($chatid,'Please reply to a message and send command try againâ€¼ï¸','HTML',null,$message_id);
			}
		}
	}
}
#unsilent user
if($filter_cmd=='unsilent' || $filter_cmd=='Ù„ØºÙˆ Ø³Ú©ÙˆØª'){
	if($situation=='ok'){
		if($replyid!=null){
			if(array_key_exists($replyid,$silent_list)){
				bot('RestrictChatMember',[
				'chat_id'=>$chatid,
				'user_id'=>$replyid,
				'can_post_messages'=>true,
				'can_add_web_page_previews'=>true,
				'can_send_other_messages'=>true,
				'can_send_media_messages'=>true,
				'can_edit_messages'=>true
				]);
				$e=array_search($replyid,$silent_list);
				unset($silent_list[$e]);
				saveJson('data/groups/'.$chatid.'/silent_list.json',$silent_list);
				if($groups[$chatid]!='english'){
					sendMessage($chatid,$reply_name.' ØªÙˆØ§Ù†Ø§ÛŒÛŒ Ú†Øª Ø®ÙˆØ¯ Ø±Ø§ Ø§Ø² Ø¨Ø¯Ø³Øª Ø¢ÙˆØ±Ø¯ !ğŸš€','HTML',null,$message_id);
				}
				else{
					sendMessage($chatid,$reply_name.' Ability to get your chat!ğŸš€','HTML',null,$message_id);
				}
			}
		}else{
			if($groups[$chatid]!='english'){
				sendMessage($chatid,'Ù„Ø·ÙØ§ Ø±ÙˆÛŒ ÛŒÚ© Ù¾ÛŒØ§Ù… Ø±ÛŒÙ¾Ù„Ø§ÛŒ Ú©Ù†ÛŒØ¯ Ùˆ Ø¯Ø³ØªÙˆØ± Ø±Ø§ Ù…Ø¬Ø¯Ø¯Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯â€¼ï¸','HTML',null,$message_id);
			}
			else{
				sendMessage($chatid,'Please reply to a message and send command try againâ€¼ï¸','HTML',null,$message_id);
			}
		}
	}
}
#exempt
if($filter_cmd=='Ù…Ø¹Ø§Ù' || $filter_cmd=='exempt'){
	if($situation=='ok'){
		if($replyid!=null){
			$status=json_decode(file_get_contents('https://api.telegram.org/bot'.API_KEY.'/getChatMember?chat_id='.$chatid.'&user_id='.$replyid))->result->status;
			if($status=='member' || $status=='restricted'){
				if(!in_array($replyid,$exempt_list)){
					$exempt_list[]=$replyid;
					saveJson('data/groups/'.$chatid.'/exempt_list.json',$exempt_list);
					$name=getChat($replyid)->result->first_name;
					if($groups[$chatid]!='english'){
						sendMessage($chatid,"Ú©Ø§Ø±Ø¨Ø± $name Ø§Ø² Ø§ÙØ²ÙˆØ¯Ù† Ø§Ø¬Ø¨Ø§Ø±ÛŒ Ø¹Ø¶Ùˆ Ù…Ø¹Ø§Ù Ø´Ø¯ğŸš€",'HTML',null,$message_id);
					}
					else{
						sendMessage($chatid,"$name user was exempted from adding a memberğŸš€",'HTML',null,$message_id);
					}
				}else{
					if($groups[$chatid]!='english'){
						sendMessage($chatid,'Ø§ÛŒÙ† Ú©Ø§Ø±Ø¨Ø± Ø§Ø² Ø§Ø¯ Ø§Ø¬Ø¨Ø§Ø±ÛŒ Ù…Ø¹Ø§Ù Ø´Ø¯Ù‡ Ø§Ø³Øªâ€¼ï¸','HTML',null,$message_id);
					}
					else{
						sendMessage($chatid,'This user is exempted from the adding a memberï¸','HTML',null,$message_id);
					}
				}
			}
			elseif($status=='creator' || $status=='administrator'){
					if($groups[$chatid]!='english'){
						sendMessage($chatid,'Ø´Ù…Ø§ Ù†Ù…ÛŒ ØªÙˆØ§Ù†ÛŒØ¯ ÛŒÚ© Ù…Ø¯ÛŒØ± Ø±Ø§ Ø§Ø² Ø§Ø¯ Ø§Ø¬Ø¨Ø§Ø±ÛŒ Ù…Ø¹Ø§Ù Ú©Ù†ÛŒØ¯â€¼ï¸','HTML',null,$message_id);
					}
					else{
						sendMessage($chatid,'You can not exempt a manager from compulsory addâ€¼ï¸','HTML',null,$message_id);
					}
				}
				elseif($status=='left' || $status=='kicked'){
					if($groups[$chatid]!='english'){
						sendMessage($chatid,'Ø§ÛŒÙ† Ú©Ø§Ø±Ø¨Ø± ÛŒØ§ÙØª Ù†Ø´Ø¯ !âŒ','HTML',null,$message_id);
					}
					else{
						sendMessage($chatid,'This user not found !âŒ','HTML',null,$message_id);
					}
				}
		}else{
			if($groups[$chatid]!='english'){
				sendMessage($chatid,'Ù„Ø·ÙØ§ Ø±ÙˆÛŒ ÛŒÚ© Ù¾ÛŒØ§Ù… Ø±ÛŒÙ¾Ù„Ø§ÛŒ Ú©Ù†ÛŒØ¯ Ùˆ Ø¯Ø³ØªÙˆØ± Ø±Ø§ Ù…Ø¬Ø¯Ø¯Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯â€¼ï¸','HTML',null,$message_id);
			}
			else{
				sendMessage($chatid,'Please reply to a message and send command try againâ€¼ï¸','HTML',null,$message_id);
			}
		}
	}
}
#compulsor
if($filter_cmd=='Ø§Ø¬Ø¨Ø§Ø±' || $filter_cmd=='compulsor'){
	if($situation=='ok'){
		if($replyid!=null){
			if(in_array($replyid,$exempt_list)){
				$id=array_search($replyid,$exempt_list);
				unset($exempt_list[$id]);
				saveJson('data/groups/'.$chatid.'/exempt_list.json',$exempt_list);
				$name=getChat($replyid)->result->first_name;
				if($groups[$chatid]!='english'){
					sendMessage($chatid,"Ú©Ø§Ø±Ø¨Ø± $name Ø§Ø² Ù…Ø¹Ø§ÙÛŒØª Ø§ÙØ²ÙˆØ¯Ù† Ø§Ø¬Ø¨Ø§Ø±ÛŒ Ø­Ø°Ù Ø´Ø¯ğŸš€",'HTML',null,$message_id);
				}
				else{
					sendMessage($chatid,"The $name user has been removed from the forced add-ons exemptionğŸš€",'HTML',null,$message_id);
				}
			}
		}else{
			if($groups[$chatid]!='english'){
				sendMessage($chatid,'Ù„Ø·ÙØ§ Ø±ÙˆÛŒ ÛŒÚ© Ù¾ÛŒØ§Ù… Ø±ÛŒÙ¾Ù„Ø§ÛŒ Ú©Ù†ÛŒØ¯ Ùˆ Ø¯Ø³ØªÙˆØ± Ø±Ø§ Ù…Ø¬Ø¯Ø¯Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯â€¼ï¸','HTML',null,$message_id);
			}
			else{
				sendMessage($chatid,'Please reply to a message and send command try againâ€¼ï¸','HTML',null,$message_id);
			}
		}
	}
}
#lock and unlock command
if(isset($text)){
    	if($situation=='ok'){
    		$lock=explode(' ',$text);
		$lock1=filterCmd($lock[0]);
		$lock2=filterCmd($lock[1]);
		if(!preg_match('/^[Aa-Zz]/',$lock2)){
			$lock_2=textToEnglish($lock2);
		}
		if($lock_2!=null){
			$file=$settings[$lock_2];
		}else{
			$file=$settings[$lock2];
		}
		if($lock1=='lock' || $lock1=='unlock' || $lock1=='Ù‚ÙÙ„' || $lock1=='Ø¨Ø§Ø²Ú©Ø±Ø¯Ù†'){
		    if($join_channel!='member' && $join_channel!='administrator' && $join_channel!='creator'){
	    if($groups[$chatid]!='english'){
			$text="Ú©Ø§Ø±Ø¨Ø± Ú¯Ø±Ø§Ù…ÛŒğŸŒ¹\nØ´Ù…Ø§ Ø¨Ø§ÛŒØ¯ Ø­ØªÙ…Ø§ Ø¹Ø¶Ùˆ Ú©Ø§Ù†Ø§Ù„ Ù…Ø§ Ø´ÙˆÛŒØ¯ ØªØ§ Ø§Ø² Ø¢Ø®Ø±ÛŒÙ† Ø§Ø®Ø¨Ø§Ø± Ùˆ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø±Ø¨Ø§Øª Ø¨Ø±Ø®ÙˆØ±Ø¯Ø§Ø± Ø´ÙˆÛŒØ¯ !\nâ¬‡ï¸Ø¨Ø±Ø§ÛŒ Ø¹Ø¶ÙˆÛŒØª Ø¯Ø± Ú©Ø§Ù†Ø§Ù„ Ù…Ø§ Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ Ø²ÛŒØ± Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯â¬‡ï¸";
			$button_join=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"ğŸ—Ù¾ÛŒÙˆØ³ØªÙ† Ø¨Ù‡ Ú©Ø§Ù†Ø§Ù„ Ù…Ø§ğŸ—",'url'=>"https://t.me/bonabit"]]
			]]);
		}
		elseif($groups[$chatid]=='english'){
			$text="Dear userğŸŒ¹\nYou must be a member of our channel to get the latest robot news and information !\nâ¬‡ï¸Click the button below to subscribe to our channelâ¬‡ï¸";
			$button_join=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"ğŸ—Join to our channelğŸ—",'url'=>"https://t.me/bonabit"]]
			]]);
		}
		elseif($groups[$chatid]==null){
			$text="Ú©Ø§Ø±Ø¨Ø± Ú¯Ø±Ø§Ù…ÛŒğŸŒ¹\nØ´Ù…Ø§ Ø¨Ø§ÛŒØ¯ Ø­ØªÙ…Ø§ Ø¹Ø¶Ùˆ Ú©Ø§Ù†Ø§Ù„ Ù…Ø§ Ø´ÙˆÛŒØ¯ ØªØ§ Ø§Ø² Ø¢Ø®Ø±ÛŒÙ† Ø§Ø®Ø¨Ø§Ø± Ùˆ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø±Ø¨Ø§Øª Ø¨Ø±Ø®ÙˆØ±Ø¯Ø§Ø± Ø´ÙˆÛŒØ¯ !\nâ¬‡ï¸Ø¨Ø±Ø§ÛŒ Ø¹Ø¶ÙˆÛŒØª Ø¯Ø± Ú©Ø§Ù†Ø§Ù„ Ù…Ø§ Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ Ø²ÛŒØ± Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯â¬‡ï¸\n\nâ–â–â–â–â–â–â–â–â–â–â–â–â–â–\n\nDear userğŸŒ¹\nYou must be a member of our channel to get the latest robot news and information !\nâ¬‡ï¸Click the button below to subscribe to our channelâ¬‡ï¸";
			$button_join=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"ğŸ—Ù¾ÛŒÙˆØ³ØªÙ† Ø¨Ù‡ Ú©Ø§Ù†Ø§Ù„ Ù…Ø§ğŸ—",'url'=>"https://t.me/bonabit"]],
			[['text'=>"ğŸ—Join to our channelğŸ—",'url'=>"https://t.me/bonabit"]]
			]]);
		}
		sendMessage($chatid,$text,'HTML',$button_join,$message_id);
		die; }else{
			if(strstr($lock_list,$lock2)!=false || strstr($lock_list,$lock_2)!=false){
				if($lock1=='lock' || $lock1=='Ù‚ÙÙ„'){
					if($file=='â˜‘ï¸'){
						if($lock_2!=null){
							$settings[$lock_2]='âœ…';
						}else{
							$settings[$lock2]='âœ…';
						}
						saveJson("data/groups/$chatid/settings.json",$settings);
						if($groups[$chatid]!='english'){
							if($lock_2!=null){
								sendMessage($chatid,"ğŸš€Ù‚ÙÙ„ Ø§Ø±Ø³Ø§Ù„ $lock2 ØªÙˆØ³Ø· Ø§Ø¹Ø¶Ø§ , ÙØ¹Ø§Ù„ Ø´Ø¯ !\n\nØ®Ø¨ , Ø§Ø¹Ø¶Ø§ÛŒ Ú¯Ø±ÙˆÙ‡ Ù†Ù…ÛŒØªÙˆØ§Ù†Ù†Ø¯ $lock2 Ø±Ø§ Ø¯Ø± Ú¯Ø±ÙˆÙ‡ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†Ù†Ø¯ !ğŸš¨",'HTML',null,$message_id);
							}else{
								$lock2=textToPersian($lock2);
								sendMessage($chatid,"ğŸš€Ù‚ÙÙ„ Ø§Ø±Ø³Ø§Ù„ $lock2 ØªÙˆØ³Ø· Ø§Ø¹Ø¶Ø§ , ÙØ¹Ø§Ù„ Ø´Ø¯ !\n\nØ®Ø¨ , Ø§Ø¹Ø¶Ø§ÛŒ Ú¯Ø±ÙˆÙ‡ Ù†Ù…ÛŒØªÙˆØ§Ù†Ù†Ø¯ $lock2 Ø±Ø§ Ø¯Ø± Ú¯Ø±ÙˆÙ‡ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†Ù†Ø¯ !ğŸš¨",'HTML',null,$message_id);
							}
						}else{
							if($lock_2!=null){
								sendMessage($chatid,"ğŸš€Lock send $lock_2 by members , was enabled !\n\nSo, group members cannot send ".$lock_2."s to the group !ğŸš¨",'HTML',null,$message_id);
							}else{
								sendMessage($chatid,"ğŸš€Lock send $lock2 by members , was enabled !\n\nSo, group members cannot send ".$lock2."s to the group !ğŸš¨",'HTML',null,$message_id);
							}
						}
					}else{
						if($groups[$chatid]!='english'){
							if($lock_2!=null){
								sendMessage($chatid,"âš ï¸Ù‚ÙÙ„ Ø§Ø±Ø³Ø§Ù„ $lock2 ØªÙˆØ³Ø· Ø§Ø¹Ø¶Ø§ , ÙØ¹Ø§Ù„ Ø¨ÙˆØ¯Ù‡ Ø§Ø³Øª !",'HTML',null,$message_id);
							}else{
								$lock2=textToPersian($lock2);
								sendMessage($chatid,"âš ï¸Ù‚ÙÙ„ Ø§Ø±Ø³Ø§Ù„ $lock2 ØªÙˆØ³Ø· Ø§Ø¹Ø¶Ø§ , ÙØ¹Ø§Ù„ Ø¨ÙˆØ¯Ù‡ Ø§Ø³Øª !",'HTML',null,$message_id);
							}
						}else{
							if($lock_2!=null){
								sendMessage($chatid,"âš ï¸Lock send $lock_2 by members, already enabled !",'HTML',null,$message_id);
							}else{
								sendMessage($chatid,"âš ï¸Lock send $lock2 by members, already enabled !",'HTML',null,$message_id);
							}
						}
					}
				}
				elseif($lock1=='unlock' || $lock1=='Ø¨Ø§Ø²Ú©Ø±Ø¯Ù†'){
					if($file=='âœ…'){
						if($lock_2!=null){
							$settings[$lock_2]='â˜‘ï¸';
						}else{
							$settings[$lock2]='â˜‘ï¸';
						}
						saveJson("data/groups/$chatid/settings.json",$settings);
						if($groups[$chatid]!='english'){
							if($lock_2!=null){
								sendMessage($chatid,"ğŸš€Ù‚ÙÙ„ Ø§Ø±Ø³Ø§Ù„ $lock2 ØªÙˆØ³Ø· Ø§Ø¹Ø¶Ø§ , ØºÛŒØ± ÙØ¹Ø§Ù„ Ø´Ø¯ !\n\nØ®Ø¨ , Ø§Ø¹Ø¶Ø§ÛŒ Ú¯Ø±ÙˆÙ‡ Ù…ÛŒ ØªÙˆØ§Ù†Ù†Ø¯ $lock2 Ø±Ø§ Ø¯Ø± Ú¯Ø±ÙˆÙ‡ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†Ù†Ø¯ !ğŸƒ",'HTML',null,$message_id);
							}else{
								$lock2=textToPersian($lock2);
								sendMessage($chatid,"ğŸš€Ù‚ÙÙ„ Ø§Ø±Ø³Ø§Ù„ $lock2 ØªÙˆØ³Ø· Ø§Ø¹Ø¶Ø§ , ØºÛŒØ± ÙØ¹Ø§Ù„ Ø´Ø¯ !\n\nØ®Ø¨ , Ø§Ø¹Ø¶Ø§ÛŒ Ú¯Ø±ÙˆÙ‡ Ù…ÛŒ ØªÙˆØ§Ù†Ù†Ø¯ $lock2 Ø±Ø§ Ø¯Ø± Ú¯Ø±ÙˆÙ‡ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†Ù†Ø¯ !ğŸƒ",'HTML',null,$message_id);
							}
						}else{
							if($lock_2!=null){
								sendMessage($chatid,"ğŸš€Lock send $lock_2 by members , was disabled !\n\nSo, group members can send ".$lock_2."s to the group !ğŸƒ",'HTML',null,$message_id);
							}else{
								sendMessage($chatid,"ğŸš€Lock send $lock2 by members , was disabled !\n\nSo, group members can send ".$lock2."s to the group !ğŸƒ",'HTML',null,$message_id);
							}
						}
					}else{
						if($groups[$chatid]!='english'){
							if($lock_2!=null){
								sendMessage($chatid,"âš ï¸Ù‚ÙÙ„ Ø§Ø±Ø³Ø§Ù„ $lock2 ØªÙˆØ³Ø· Ø§Ø¹Ø¶Ø§ , ØºÛŒØ± ÙØ¹Ø§Ù„ Ø¨ÙˆØ¯Ù‡ Ø§Ø³Øª !",'HTML',null,$message_id);
							}else{
								$lock2=textToPersian($lock2);
								sendMessage($chatid,"âš ï¸Ù‚ÙÙ„ Ø§Ø±Ø³Ø§Ù„ $lock2 ØªÙˆØ³Ø· Ø§Ø¹Ø¶Ø§ , ØºÛŒØ± ÙØ¹Ø§Ù„ Ø¨ÙˆØ¯Ù‡ Ø§Ø³Øª !",'HTML',null,$message_id);
							}
						}else{
							if($lock_2!=null){
								sendMessage($chatid,"âš ï¸Lock send $lock_2 by members, already disabled !",'HTML',null,$message_id);
							}else{
								sendMessage($chatid,"âš ï¸Lock send $lock2 by members, already disabled !",'HTML',null,$message_id);
							}
						}
					}
				}
			}else{
				if($groups[$chatid]!='english'){
					sendMessage($chatid,"âŒØ§ÛŒÙ† Ù‚ÙÙ„ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯ !",'HTML',null,$message_id);
				}else{
					sendMessage($chatid,"âŒThis lock does not exist !",'HTML',null,$message_id);
				}
			}
		}
	}
}}
#get button inline for one lock
if(isset($text)){
	if($situation=='ok'){
		if(!preg_match('/^[Aa-Zz]/',$filter_cmd)){
			$filter_cmd2=textToEnglish($filter_cmd);
		}
		$lock_list=explode(',',$lock_list);
		if(in_array($filter_cmd,$lock_list) || in_array($filter_cmd2,$lock_list)){
			if($groups[$chatid]!='english'){
				if($filter_cmd2!=null){
					$button_panel_one=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
					[['text'=>"â¬‡ï¸ $filter_cmd â¬‡ï¸",'callback_data'=>"none"]],
					[['text'=>"$settings[$filter_cmd2]",'callback_data'=>"one_$filter_cmd2"],['text'=>"Ø­Ø°Ù Ù¾Ø³Øª",'callback_data'=>"none"]],
					[['text'=>"Ø®Ø±ÙˆØ¬",'callback_data'=>"exit"]]
					]]);
				}else{
					$filter_cmd2=textToPersian($filter_cmd);
					$button_panel_one=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
					[['text'=>"â¬‡ï¸ $filter_cmd2 â¬‡ï¸",'callback_data'=>"none"]],
					[['text'=>"$settings[$filter_cmd]",'callback_data'=>"one_$filter_cmd"],['text'=>"Ø­Ø°Ù Ù¾Ø³Øª",'callback_data'=>"none"]],
					[['text'=>"Ø®Ø±ÙˆØ¬",'callback_data'=>"exit"]]
					]]);
				}
				sendMessage($chatid,$text_panel_fa,'HTML',$button_panel_one,$message_id);
			}else{
				if($filter_cmd2!=null){
					$button_panel_one=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
					[['text'=>"â¬‡ï¸ $filter_cmd2 â¬‡ï¸",'callback_data'=>"none"]],
					[['text'=>"Delete Post",'callback_data'=>"none"],['text'=>"$settings[$filter_cmd2]",'callback_data'=>"one_$filter_cmd2"]],
					[['text'=>"Exit",'callback_data'=>"exit"]]
					]]);
				}else{
					$button_panel_one=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
					[['text'=>"â¬‡ï¸ $filter_cmd â¬‡ï¸",'callback_data'=>"none"]],
					[['text'=>"Delete Post",'callback_data'=>"none"],['text'=>"$settings[$filter_cmd]",'callback_data'=>"one_$filter_cmd"]],
					[['text'=>"Exit",'callback_data'=>"exit"]]
					]]);
				}
				sendMessage($chatid,$text_panel_en,'HTML',$button_panel_one,$message_id);
			}
		}
	}
}
#button delete one lock
if(strstr($data,'one_')!=false){
	if($situation=='ok'){
		$lock=str_replace('one_','',$data);
		if($settings[$lock]=='âœ…'){
			$settings[$lock]='â˜‘ï¸';
		}else{
			$settings[$lock]='âœ…';
		}
		saveJson("data/groups/$chatid/settings.json",$settings);
		if($groups[$chatid]!='english'){
			$lock2=textToPersian($lock);
			$button_panel_one=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"â¬‡ï¸ $lock2 â¬‡ï¸",'callback_data'=>"none"]],
			[['text'=>"$settings[$lock]",'callback_data'=>"one_$lock"],['text'=>"Ø­Ø°Ù Ù¾Ø³Øª",'callback_data'=>"none"]],
			[['text'=>"Exit",'callback_data'=>"exit"]]
			]]);
		}else{
			$button_panel_one=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"â¬‡ï¸ $lock â¬‡ï¸",'callback_data'=>"none"]],
			[['text'=>"Delete Post",'callback_data'=>"none"],['text'=>"$settings[$lock]",'callback_data'=>"one_$lock"]],
			[['text'=>"Exit",'callback_data'=>"exit"]]
			]]);
		}
		editMessageReplyMarkup($chatid,$message_id2,$button_panel_one);
	}
}
#get panel
if($filter_cmd=='Ø±Ø§Ù‡Ù†Ù…Ø§' || $filter_cmd=='help' || $filter_cmd == 'Ø¯Ø³ØªÙˆØ±Ø§Øª'){
		sendMessage($chatid,"Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø¯Ø³ØªÙˆØ±Ø§Øª Ø±Ø¨Ø§ØªğŸ“™

â€¢ Ø¯Ø±ÛŒØ§ÙØª Ù…Ù†ÙˆÛŒ Ù…Ø¯ÛŒØ±ÛŒØª :
`panel | Ù…Ø¯ÛŒØ±ÛŒØª`

â€”----------------------------------------------------------

â€¢ ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† ÛŒÚ© Ù‚ÙÙ„ :
`lock | Ù‚ÙÙ„`

â€¢ ØºÛŒØ± ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† ÛŒÚ© Ù‚ÙÙ„ :
`unlock | Ø¨Ø§Ø²Ú©Ø±Ø¯Ù† `

[ sticker | photo | gif | video | videoselfi | voice | music | document | contact | location | game | text | link | username | Hashtag | bold | italic | coding | forward | tgservice | reply | caption | bot | join ]

[ Ø§Ø³ØªÛŒÚ©Ø± | Ø¹Ú©Ø³ | Ú¯ÛŒÙ | ÙÛŒÙ„Ù… | ÙˆÛŒØ¯Ø¦ÙˆØ³Ù„ÙÛŒ | ØµØ¯Ø§ | Ù…ÙˆØ³ÛŒÙ‚ÛŒ | ÙØ§ÛŒÙ„ | Ù…Ø®Ø§Ø·Ø¨ | Ù…Ú©Ø§Ù† | Ø¨Ø§Ø²ÛŒ | Ù…ØªÙ† | Ù„ÛŒÙ†Ú© | ÛŒÙˆØ²Ø±Ù†ÛŒÙ… | Ù‡Ø´ØªÚ¯ | Ø¨ÙˆÙ„Ø¯ | Ø§ÛŒØªØ§Ù„ÛŒÚ© | Ú©Ø¯ÛŒÙ†Ú¯ | ÙÙˆØ±ÙˆØ§Ø±Ø¯ | Ø³Ø±ÙˆÛŒØ³ | Ø±ÛŒÙ¾Ù„Ø§ÛŒ | Ú©Ù¾Ø´Ù† | Ø±Ø¨Ø§Øª | Ø¹Ø¶ÙˆÛŒØª ]

â€”----------------------------------------------------------

â€¢ Ù†Ø¸Ø§Ø±Øª Ø¨Ø± ÛŒÚ© Ù‚ÙÙ„ :

Ø´Ù…Ø§ Ø¨Ø§ ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ù†Ø§Ù… Ø¢Ù† Ù‚ÙÙ„ Ù…ÛŒ ØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ø± Ø¢Ù† Ù†Ø¸Ø§Ø±Øª Ú©Ù†ÛŒØ¯ !
(Ù†Ø§Ù… Ù‚ÙÙ„ Ù‡Ø§ Ø¯Ø± Ø¨Ø§Ù„Ø§ Ø°Ú©Ø± Ø´Ø¯Ù‡ Ø§Ø³Øª !)

â€”----------------------------------------------------------

1- Ø´Ù…Ø§ Ù…ÛŒ ØªÙˆØ§Ù†ÛŒØ¯ Ø¯Ø³ØªÙˆØ±Ø§Øª Ø±Ø§ Ø¨Ø§ Ø­Ø±ÙˆÙ Ú©ÙˆÚ†Ú© ÛŒØ§ Ø¨Ø²Ø±Ú¯ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯.
Ø±Ø¨Ø§Øª Ù‡ÛŒÚ† ØªÙØ§ÙˆØªÛŒ Ø¨ÛŒÙ† Ø­Ø±ÙˆÙ Ú©ÙˆÚ†Ú© Ùˆ Ø¨Ø²Ø±Ú¯ Ù‚Ø§Ø¹Ù„ Ù†Ù…ÛŒ Ø´ÙˆØ¯ !
Ù…Ø«Ø§Ù„ :
LOCK STICKER 
Ùˆ
lock sticker
Ù‡ÛŒÚ† ÙØ±Ù‚ÛŒ Ø¨Ø§ ÛŒÚ©Ø¯ÛŒÚ¯Ø± Ù†Ø¯Ø§Ø±Ù†Ø¯.

2-Ø´Ù…Ø§ Ù…ÛŒ ØªÙˆØ§Ù†ÛŒØ¯ Ø¯Ø³ØªÙˆØ±Ø§Øª Ø±Ø§ Ø¨Ù‡ Ù‡Ø±Ú¯ÙˆÙ†Ù‡ Ú©Ù‡ Ù…Ø§ÛŒÙ„ÛŒØ¯ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯.
Ø±Ø¨Ø§Øª Ù…ÛŒ ØªÙˆØ§Ù†Ø¯ Ø¢Ù†Ù‡Ø§ Ø±Ø§ ØªÙØ³ÛŒØ± Ú©Ù†Ø¯ !
Ù…Ø«Ø§Ù„ :
Lock Ø§Ø³ØªÛŒÚ©Ø±
Ùˆ
Ù‚ÙÙ„ sticker
Ù‡ÛŒÚ† ÙØ±Ù‚ÛŒ Ø¨Ø§ ÛŒÚ©Ø¯ÛŒÚ¯Ø± Ù†Ø¯Ø§Ø±Ù†Ø¯.

3- Ø´Ù…Ø§ Ù…ÛŒ ØªÙˆØ§Ù†ÛŒØ¯ Ø¯Ø§Ø®Ù„ Ø¯Ø³ØªÙˆØ±Ø§Øª Ø®ÙˆØ¯ Ø§Ø² Ø¹Ù„Ø§Ù…Øª Ù‡Ø§ÛŒ ! Ùˆ / Ùˆ # Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯.
Ù…Ø«Ø§Ù„ :
/lock sticker
Ùˆ
lo#ck sticker
Ù‡ÛŒÚ† ØªÙØ§ÙˆØªÛŒ Ø¨Ø§ Ù‡Ù… Ù†Ø¯Ø§Ø±Ù†Ø¯.

Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§ÛŒÙ† Ø¹Ù„Ø§Ù…Øª Ù‡Ø§ Ø¨Ø§Ø¹Ø« Ù…ÛŒØ´ÙˆØ¯ ØªØ§ Ø¯Ø³ØªÙˆØ±Ø§Øª Ø§ÛŒÙ† Ø±Ø¨Ø§Øª Ø¨Ø§ Ø¯ÛŒÚ¯Ø± Ø±Ø¨Ø§Øª Ù‡Ø§ÛŒ Ø¯Ø±ÙˆÙ† Ú¯Ø±ÙˆÙ‡ Ø´Ù…Ø§ Ù…ØªÙ…Ø§ÛŒØ² Ø´ÙˆØ¯ !

â€”----------------------------------------------------------

Ø´Ù…Ø§ Ù…ÛŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ø§ Ø§ÛŒÙ† Ø¯Ø³ØªÙˆØ± Ú†Ù†Ø¯ Ù¾ÛŒØ§Ù… Ø±Ø§ Ø¨ØµÙˆØ±Øª Ù…ØªÙˆØ§Ù„ÛŒ Ø­Ø°Ù Ú©Ù†ÛŒØ¯ :

delete [number]
Ùˆ ÛŒØ§
Ø­Ø°Ù [number]
Ø¨Ø¬Ø§ÛŒ number Ù…ÛŒ ØªÙˆØ§Ù†ÛŒØ¯ Ø¹Ø¯Ø¯ÛŒ Ø¨ÛŒÙ† 1 ØªØ§ 100 Ø¨Ú¯Ø°Ø§Ø±ÛŒØ¯ !

â€”----------------------------------------------------------

Ø³Ú©ÙˆØª Ú©Ø§Ø±Ø¨Ø± Ø¨Ø§ Ø¯Ø³ØªÙˆØ± :
silent + [reply]
ÙˆÛŒØ§
Ø³Ú©ÙˆØª + [reply]

â€”----------------------------------------------------------

Ù„ØºÙˆ Ø³Ú©ÙˆØª Ø§ÙØ±Ø§Ø¯ Ø¨Ø§ Ø¯Ø³ØªÙˆØ± :

unsilent + [reply]
Ùˆ ÛŒØ§
Ù„ØºÙˆ Ø³Ú©ÙˆØª + [reply]

â€”----------------------------------------------------------

Ø¨Ø±Ø§ÛŒ Ù…Ø¹Ø§Ù Ú©Ø±Ø¯Ù† ÛŒÚ© ÙØ±Ø¯ Ø§Ø² Ø§Ø¯ Ú©Ø±Ø¯Ù† Ø§Ø¬Ø¨Ø§Ø±ÛŒ Ø¨Ù‡ Ú¯Ø±ÙˆÙ‡ Ø¯Ø³ØªÙˆØ± Ø²ÛŒØ± Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯ :

Ù…Ø¹Ø§Ù +  [reply]
Ùˆ ÛŒØ§
exempt + [reply]

â€”----------------------------------------------------------

Ø¨Ø±Ø§ÛŒ  Ø­Ø°Ù Ù…Ø¹Ø§ÙÛŒØª ÛŒÚ© ÙØ±Ø¯ Ø§Ø² Ø§Ø¯ Ú©Ø±Ø¯Ù† Ø§Ø¬Ø¨Ø§Ø±ÛŒ Ø¨Ù‡ Ú¯Ø±ÙˆÙ‡ Ø¯Ø³ØªÙˆØ± Ø²ÛŒØ± Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯ :

Ø§Ø¬Ø¨Ø§Ø± +  [reply]
Ùˆ ÛŒØ§
compulsor + [reply]


			
[Ø¨Ø±Ù†Ø§Ù…Ù‡ Ù†ÙˆÛŒØ³  Ø±Ø¨Ø§ØªğŸ·](https://t.me/Azarbinab)",'markdown',$button_join,$message_id) 


;


}
if($filter_cmd=='panel' || $filter_cmd=='panelGPpoliceRobot' || $filter_cmd=='Ù¾Ù†Ù„' || $filter_cmd=='Ù…Ø¯ÛŒØ±ÛŒØª'){
	if($situation=='ok'){
	    if($join_channel!='member' && $join_channel!='administrator' && $join_channel!='creator'){
		if($groups[$chatid]!='english'){
			$text="Ú©Ø§Ø±Ø¨Ø± Ú¯Ø±Ø§Ù…ÛŒğŸŒ¹\nØ´Ù…Ø§ Ø¨Ø§ÛŒØ¯ Ø­ØªÙ…Ø§ Ø¹Ø¶Ùˆ Ú©Ø§Ù†Ø§Ù„ Ù…Ø§ Ø´ÙˆÛŒØ¯ ØªØ§ Ø§Ø² Ø¢Ø®Ø±ÛŒÙ† Ø§Ø®Ø¨Ø§Ø± Ùˆ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø±Ø¨Ø§Øª Ø¨Ø±Ø®ÙˆØ±Ø¯Ø§Ø± Ø´ÙˆÛŒØ¯ !\nâ¬‡ï¸Ø¨Ø±Ø§ÛŒ Ø¹Ø¶ÙˆÛŒØª Ø¯Ø± Ú©Ø§Ù†Ø§Ù„ Ù…Ø§ Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ Ø²ÛŒØ± Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯â¬‡ï¸";
			$button_join=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"ğŸ—Ù¾ÛŒÙˆØ³ØªÙ† Ø¨Ù‡ Ú©Ø§Ù†Ø§Ù„ Ù…Ø§ğŸ—",'url'=>"https://t.me/bonabit"]]
			]]);
		}
		elseif($groups[$chatid]=='english'){
			$text="Dear userğŸŒ¹\nYou must be a member of our channel to get the latest robot news and information !\nâ¬‡ï¸Click the button below to subscribe to our channelâ¬‡ï¸";
			$button_join=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"ğŸ—Join to our channelğŸ—",'url'=>"https://t.me/bonabit"]]
			]]);
		}
		elseif($groups[$chatid]==null){
			$text="Ú©Ø§Ø±Ø¨Ø± Ú¯Ø±Ø§Ù…ÛŒğŸŒ¹\nØ´Ù…Ø§ Ø¨Ø§ÛŒØ¯ Ø­ØªÙ…Ø§ Ø¹Ø¶Ùˆ Ú©Ø§Ù†Ø§Ù„ Ù…Ø§ Ø´ÙˆÛŒØ¯ ØªØ§ Ø§Ø² Ø¢Ø®Ø±ÛŒÙ† Ø§Ø®Ø¨Ø§Ø± Ùˆ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø±Ø¨Ø§Øª Ø¨Ø±Ø®ÙˆØ±Ø¯Ø§Ø± Ø´ÙˆÛŒØ¯ !\nâ¬‡ï¸Ø¨Ø±Ø§ÛŒ Ø¹Ø¶ÙˆÛŒØª Ø¯Ø± Ú©Ø§Ù†Ø§Ù„ Ù…Ø§ Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ Ø²ÛŒØ± Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯â¬‡ï¸\n\nâ–â–â–â–â–â–â–â–â–â–â–â–â–â–\n\nDear userğŸŒ¹\nYou must be a member of our channel to get the latest robot news and information !\nâ¬‡ï¸Click the button below to subscribe to our channelâ¬‡ï¸";
			$button_join=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"ğŸ—Ù¾ÛŒÙˆØ³ØªÙ† Ø¨Ù‡ Ú©Ø§Ù†Ø§Ù„ Ù…Ø§ğŸ—",'url'=>"https://t.me/bonabit"]],
			[['text'=>"ğŸ—Join to our channelğŸ—",'url'=>"https://t.me/bonabit"]]
			]]);
		}
		sendMessage($chatid,$text,'HTML',$button_join,$message_id);
		die;
		exit();
	}
		if($groups[$chatid]!='english'){
			sendMessage($chatid,"Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø§Ø¯Ù…ÛŒÙ† Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯ğŸŒº\n\nØ§Ø² Ú©ÛŒØ¨ÙˆØ±Ø¯ Ø²ÛŒØ± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯ !âœ…",'HTML',buttonPanel($groups[$chatid]),$message_id);
		}else{
			sendMessage($chatid,"Welcome to the admin menuğŸŒº\n\nUse the keyboard below !âœ…",'HTML',buttonPanel($groups[$chatid]),$message_id);
		}
	}
}
#settings
if($data=='settings_group' || $data=='settings_compulsory_add' || $data=='settings_compulsory_join' || $data=='settings_frequent_message' || $data=='settings_character_constraint' || $data=='settings_silent'){
	if($situation=='ok'){
		switch($data){
			case 'settings_group';
			$button=buttonPanelMulti($settings);
			break;
			case 'settings_compulsory_add';
			$button=buttonCompulsoryadd($oders);
			break;
			case 'settings_compulsory_join';
			$button=buttonCompulsoryJoin($oders);
			break;
			case 'settings_frequent_message';
			$button=buttonFrequentMessage($oders);
			break;
			case 'settings_character_constraint';
			$button=buttonCharacterConstraint($oders);
			break;
			case 'settings_silent';
			$button=buttonSilent($oders);
		}
		if($groups[$chatid]!='english'){
			editMessageText($chatid,$message_id2,$text_panel_fa,'HTML',$button);
		}else{
			editMessageText($chatid,$message_id2,$text_panel_en,'HTML',$button);
		}
	}
}
#button change settings
if($data=='compulsory_add' || $data=='frequent_message' || $data=='character_constraint'){
	if($situation=='ok'){
		if($oders[$data]=='âœ…'){
			$oders[$data]='â˜‘ï¸';
		}else{
			$oders[$data]='âœ…';
		}
		switch($data){
			case 'compulsory_add';
			$button=buttonCompulsoryadd($oders);
			break;
			case 'frequent_message';
			$button=buttonFrequentMessage($oders);
			break;
			case 'character_constraint';
			$button=buttonCharacterConstraint($oders);
		}
		saveJson("data/groups/$chatid/oders.json",$oders);
		editMessageReplyMarkup($chatid,$message_id2,$button);
	}
}
#button delete multi locks
if(strstr($data,'multi_')!=false){
	if($situation=='ok'){
		$lock=str_replace('multi_','',$data);
		if($settings[$lock]=='âœ…'){
			$settings[$lock]='â˜‘ï¸';
		}else{
			$settings[$lock]='âœ…';
		}
		saveJson("data/groups/$chatid/settings.json",$settings);
		editMessageReplyMarkup($chatid,$message_id2,buttonPanelMulti($settings));
	}
}
#button c_add
if(strstr($data,'c_add')!=false){
	if($situation=='ok'){
		$position=str_replace('c_add','',$data);
		if($position=='+'){
			$new_number=$oders['number_compulsory_add'] + 1;
		}else{
			$new_number=$oders['number_compulsory_add'] - 1;
		}
		$oders['number_compulsory_add']=$new_number;
		if($new_number >= 1 && $new_number <= 10){
			saveJson("data/groups/$chatid/oders.json",$oders);
			editMessageReplyMarkup($chatid,$message_id2,buttonCompulsoryadd($oders));
		}
	}
}
#button compulsory join
if($data=='compulsory_join'){
	if($situation=='ok'){
		if($oders['compulsory_join']=='âœ…'){
			$oders['compulsory_join']='â˜‘ï¸';
		}else{
			if($oders['channel_compulsory_join']!='No set'){
				$oders['compulsory_join']='âœ…';
			}else{
				if($groups[$chatid]!='english'){
					answerCallbackQuery("âš ï¸ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¨ØªÙˆØ§Ù†ÛŒØ¯ Ø§ÛŒÙ† Ú¯Ø²ÛŒÙ†Ù‡ Ø±Ø§ ØªØºÛŒÛŒØ± Ø¯Ù‡ÛŒØ¯ØŒ Ø§Ø¨ØªØ¯Ø§ Ø¨Ø§ÛŒØ¯ Ú©Ø§Ù†Ø§Ù„ Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø¹Ø¶ÙˆÛŒØª Ø§Ø¬Ø¨Ø§Ø±ÛŒ ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ÛŒØ¯!",true);
				}else{
					answerCallbackQuery("âš ï¸To be able to change this option, you must first set up your channel for compulsory join !",true);
				}
			}
		}
		saveJson("data/groups/$chatid/oders.json",$oders);
		editMessageReplyMarkup($chatid,$message_id2,buttonCompulsoryJoin($oders));
	}
}
#button set channel c join
if($data=='set_channel_c_join'){
	if($situation=='ok'){
		$oders['step']='set_channel_c_join';
		saveJson("data/groups/$chatid/oders.json",$oders);
		if($groups[$chatid]!='english'){
			editMessageText($chatid,$message_id2,"ğŸ”¸Ù„Ø·ÙØ§ Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ø§Ù†Ø§Ù„ Ø®ÙˆØ¯ Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯.\n\nÙ†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ø§Ù†Ø§Ù„ Ø¨Ø§ÛŒØ¯ Ø¨Ø§ @ Ø¢ØºØ§Ø² Ø´ÙˆØ¯ !",'HTML',$button_chancel_compulsory_join);
		}else{
			editMessageText($chatid,$message_id2,"ğŸ”¸Please submit your channel username.\n\nChannel username must be started with @ â€¼ï¸",'HTML',$button_chancel_compulsory_join);
		}
	}
}
#set channel c join
if(isset($text) && $oders['step']=='set_channel_c_join'){
	if($situation=='ok'){
		if(substr($text,0,1)=='@'){
			$substr=substr($text,1,2);
			if(preg_match('/^[A-Z]|[a-z]|[0-9]|_/',$text) && strstr($text,' ')==false && !preg_match('/^[0-9]|_/',$substr) && strlen($text) >= 6){
				$oders['step']='none';
				$oders['channel_compulsory_join']=$text;
				saveJson("data/groups/$chatid/oders.json",$oders);
				if($groups[$chatid]!='english'){
					sendMessage($chatid,"ğŸš€Ú©Ø§Ù†Ø§Ù„ Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª ØªÙ†Ø¸ÛŒÙ… Ø´Ø¯ !",'HTML',buttonCompulsoryJoin($oders),$message_id);
				}else{
					sendMessage($chatid,"ğŸš€Your channel successfully set !",'HTML',buttonCompulsoryJoin($oders),$message_id);
				}
			}else{
				if($groups[$chatid]!='english'){
					sendMessage($chatid,"âš ï¸Ø§ÛŒÙ† Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ Ù…Ø¹ØªØ¨Ø± Ù†ÛŒØ³Øª!\nÙ„Ø·ÙØ§ Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø§ Ø¯Ù‚Øª Ø¨ÛŒØ´ØªØ±ÛŒ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯! ï¸",'HTML',$button_chancel_compulsory_join,$message_id);
				}else{
					sendMessage($chatid,"âš ï¸This username is not valid !\nPlease send your channel more username carefully â€¼ï¸",'HTML',$button_chancel_compulsory_join,$message_id);
				}
			}
		}else{
			if($groups[$chatid]!='english'){
				sendMessage($chatid,"âš ï¸ÛŒÙˆØ²Ø±Ù†ÛŒÙ… Ú©Ø§Ù†Ø§Ù„ Ø¨Ø§ÛŒØ¯ Ø¨Ø§ @ Ø´Ø±ÙˆØ¹ Ø´ÙˆØ¯ !",'HTML',$button_chancel_compulsory_join,$message_id);
			}else{
				sendMessage($chatid,"âš ï¸Username Channel must start with @ !",'HTML',$button_chancel_compulsory_join,$message_id);
			}
		}
	}
}
#button delete channel c join
if($data=='delete_channel_c_join'){
	if($situation=='ok'){
		if($oders['channel_compulsory_join']!='No set'){
			if($groups[$chatid]!='english'){
				$button_sure_compulsory_join=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
				[['text'=>"Ø¨Ù„Ù‡, Ù…Ù† Ù…Ø·Ù…Ø¦Ø¹Ù†Ù… !",'callback_data'=>"sure_channel_c_join"]],
				[['text'=>"Ù„ØºÙˆâŒ",'callback_data'=>"chancel_compulsory_join"]]
				]]);
				editMessageText($chatid,$message_id2,"ğŸ”°Ù…Ø·Ù…Ø¦Ù†ÛŒØ¯ Ú©Ù‡ Ù…ÛŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ú©Ø§Ù†Ø§Ù„ Ø±Ø§ Ø­Ø°Ù Ú©Ù†ÛŒØ¯?",'HTML',$button_sure_compulsory_join);
			}else{
				$button_sure_compulsory_join=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
				[['text'=>"Yes, I sure !",'callback_data'=>"sure_channel_c_join"]],
				[['text'=>"CancelâŒ",'callback_data'=>"chancel_compulsory_join"]]
				]]);
				editMessageText($chatid,$message_id2,"ğŸ”°Are you sure you want to delete the channel?",'HTML',$button_sure_compulsory_join);
			}
		}else{
			if($groups[$chatid]!='english'){
				answerCallbackQuery("âš ï¸Ø´Ù…Ø§ Ù‡ÛŒÚ† Ú©Ø§Ù†Ø§Ù„ÛŒ ØªÙ†Ø¸ÛŒÙ… Ù†Ú©Ø±Ø¯Ù‡ Ø§ÛŒØ¯ !",true);
			}else{
				answerCallbackQuery("âš ï¸You have not set any channel !",true);
			}
		}
	}
}
#button sure channel c join
if($data=='sure_channel_c_join'){
	if($situation=='ok'){
		$oders['channel_compulsory_join']='No set';
		$oders['compulsory_join']='â˜‘ï¸';
		saveJson("data/groups/$chatid/oders.json",$oders);
		if($groups[$chatid]!='english'){
			answerCallbackQuery("ğŸš€Ú©Ø§Ù†Ø§Ù„ ØªÙ†Ø¸ÛŒÙ… Ø´Ø¯Ù‡ Ø­Ø°Ù Ø´Ø¯ !",true);
		}else{
			answerCallbackQuery("ğŸš€The tuned channel has been deleted !",true);
		}
		if($groups[$chatid]!='english'){
			editMessageText($chatid,$message_id2,$text_panel_fa,'HTML',buttonCompulsoryJoin($oders));
		}else{
			editMessageText($chatid,$message_id2,$text_panel_en,'HTML',buttonCompulsoryJoin($oders));
		}
	}
}
#button cancel compulsory join
if($data=='chancel_compulsory_join'){
	if($situation=='ok'){
		if($oders['step']!='none'){
			$oders['step']='none';
			saveJson("data/groups/$chatid/oders.json",$oders);
		}
		if($groups[$chatid]!='english'){
			editMessageText($chatid,$message_id2,$text_panel_fa,'HTML',buttonCompulsoryJoin($oders));
		}else{
			editMessageText($chatid,$message_id2,$text_panel_en,'HTML',buttonCompulsoryJoin($oders));
		}
	}
}
#button f message
if(strstr($data,'f_message')!=false){
	if($situation=='ok'){
		$position=str_replace('f_message','',$data);
		if($position=='+'){
			$new_number=$oders['number_frequent_message'] + 1;
		}else{
			$new_number=$oders['number_frequent_message'] - 1;
		}
		$oders['number_frequent_message']=$new_number;
		if($new_number >= 1 && $new_number <= 10){
			saveJson("data/groups/$chatid/oders.json",$oders);
			editMessageReplyMarkup($chatid,$message_id2,buttonFrequentMessage($oders));
		}
	}
}
#button reaction frequent message
if($data=='reaction_frequent_message'){
	if($situation=='ok'){
		if($oders['reaction_frequent_message']=='Silent user'){
			$oders['reaction_frequent_message']='Kick user';
		}else{
			$oders['reaction_frequent_message']='Silent user';
		}
		saveJson("data/groups/$chatid/oders.json",$oders);
		editMessageReplyMarkup($chatid,$message_id2,buttonFrequentMessage($oders));
	}
}
#button high c constraint (10)
if(strstr($data,'high_c_constraint_1')!=false){
	if($situation=='ok'){
		$position=str_replace('high_c_constraint_1','',$data);
		if($position=='+'){
			$new_number=$oders['highest_number_character_constraint'] + 10;
		}else{
			$new_number=$oders['highest_number_character_constraint'] - 10;
		}
		$oders['highest_number_character_constraint']=$new_number;
		if($new_number >= 10 && $new_number <= 500){
			saveJson("data/groups/$chatid/oders.json",$oders);
			editMessageReplyMarkup($chatid,$message_id2,buttonCharacterConstraint($oders));
		}else{
			if($groups[$chatid]!='english'){
				answerCallbackQuery("Ø¨Ø§Ù„Ø§ØªØ±ÛŒÙ† ØªØ¹Ø¯Ø§Ø¯ Ø¨Ø§ÛŒØ¯ Ø¨ÛŒÙ† 10 Ùˆ 500 Ø¨Ø§Ø´Ø¯ !âš ï¸",true);
			}else{
				answerCallbackQuery("Highest Number should be between 10 and 500 !âš ï¸",true);
			}
		}
	}
}
#button high c constraint (100)
if(strstr($data,'high_c_constraint_2')!=false){
	if($situation=='ok'){
		$position=str_replace('high_c_constraint_2','',$data);
		if($position=='+'){
			$new_number=$oders['highest_number_character_constraint'] + 100;
		}else{
			$new_number=$oders['highest_number_character_constraint'] - 100;
		}
		$oders['highest_number_character_constraint']=$new_number;
		if($new_number >= 10 && $new_number <= 500){
			saveJson("data/groups/$chatid/oders.json",$oders);
			editMessageReplyMarkup($chatid,$message_id2,buttonCharacterConstraint($oders));
		}else{
			if($groups[$chatid]!='english'){
				answerCallbackQuery("Ø¨Ø§Ù„Ø§ØªØ±ÛŒÙ† ØªØ¹Ø¯Ø§Ø¯ Ø¨Ø§ÛŒØ¯ Ø¨ÛŒÙ† 10 Ùˆ 500 Ø¨Ø§Ø´Ø¯ !âš ï¸",true);
			}else{
				answerCallbackQuery("Highest Number should be between 10 and 500 !âš ï¸",true);
			}
		}
	}
}
#button silent group
if($data=='silent_group'){
	if($situation=='ok'){
		if($oders['silent_group']=='âœ…'){
			$oders['silent_group']='â˜‘ï¸';
			saveJson("data/groups/$chatid/oders.json",$oders);
		}else{
			$oders['silent_group']='âœ…';
			saveJson("data/groups/$chatid/oders.json",$oders);
		}
		editMessageReplyMarkup($chatid,$message_id2,buttonSilent($oders));
	}
}
#button start silent
if(strstr($data,'silent_start')){
	if($situation=='ok'){
		$pos=str_replace('silent_start',null,$data);
		if($pos=='+'){
			$number=$oders['silent_start']+1;
		}else{
			$number=$oders['silent_start']-1;
		}
		if($number>=0 && $number<=24 && $number<$oders['silent_stop']){
			$oders['silent_start']=$number;
			saveJson("data/groups/$chatid/oders.json",$oders);
			editMessageReplyMarkup($chatid,$message_id2,buttonSilent($oders));
		}
	}
}
#button stop silent
if(strstr($data,'silent_stop')){
	if($situation=='ok'){
		$pos=str_replace('silent_stop',null,$data);
		if($pos=='+'){
			$number=$oders['silent_stop']+1;
		}else{
			$number=$oders['silent_stop']-1;
		}
		if($number>=0 && $number<=24 && $number>$oders['silent_start']){
			$oders['silent_stop']=$number;
			saveJson("data/groups/$chatid/oders.json",$oders);
			editMessageReplyMarkup($chatid,$message_id2,buttonSilent($oders));
		}
	}
}
#button silent list
if($data=='silent_list'){
	if($situation=='ok'){
		if($silent_list!=null){
			if($groups[$chatid]!='english'){
				editMessageText($chatid,$message_id2,"Ù„ÛŒØ³Øª Ø³Ú©ÙˆØª Ú¯Ø±ÙˆÙ‡ :ğŸŒ¹",'HTML',buttonSilentList($silent_list));
			}else{
				editMessageText($chatid,$message_id2,"Silent list :ğŸŒ¹\n",'HTML',buttonSilentList($silent_list));
			}
		}else{
			if($groups[$chatid]!='english'){
				answerCallbackQuery('âš ï¸Ù„ÛŒØ³Øª Ø³Ú©ÙˆØª Ø®Ø§Ù„ÛŒ Ø§Ø³Øª !',true);
			}else{
				answerCallbackQuery('âš ï¸Silent list is empty !',true);
			}
		}
	}
}
if(strstr($data,'info-')){
	if($situation=='ok'){
		$id=str_replace('info-',null,$data);
		$first_name=json_decode(file_get_contents('https://api.telegram.org/bot'.API_KEY.'/getChat?chat_id='.$id))->result->first_name;
		$username=json_decode(file_get_contents('https://api.telegram.org/bot'.API_KEY.'/getChat?chat_id='.$id))->result->username;
		$time=$silent_list[$id];
		if($groups[$chatid]!='english'){
			$username=$username==null?'Ù†Ø¯Ø§Ø±Ø¯':'@'.$username;
			answerCallbackQuery("Ù†Ø§Ù… : $first_name\nÛŒÙˆØ²Ø±Ù†ÛŒÙ… : $username\nØªØ§Ø±ÛŒØ® Ø´Ø±ÙˆØ¹ Ù…Ø­Ø¯ÙˆØ¯ÛŒØª : $time",true);
		}else{
			$username=$username==null?"Don\'t have":'@'.$username;
			answerCallbackQuery("Name : $first_name\nUsername : $username\nStart date limit : $time",true);
		}
	}
}
if(strstr($data,'delete-')){
	if($situation=='ok'){
		$id=str_replace('delete-',null,$data);
		bot('RestrictChatMember',[
		'chat_id'=>$chatid,
		'user_id'=>$id,
		'can_post_messages'=>true,
		'can_add_web_page_previews'=>true,
		'can_send_other_messages'=>true,
		'can_send_media_messages'=>true,
		'can_edit_messages'=>true
		]);
		unset($silent_list[$id]);
		saveJson("data/groups/$chatid/silent_list.json",$silent_list);
		if($silent_list!=null){
			if($groups[$chatid]!='english'){
				editMessageReplyMarkup($chatid,$message_id2,buttonSilentList($silent_list));
			}else{
				editMessageReplyMarkup($chatid,$message_id2,buttonSilentList($silent_list));
			}
		}else{
			if($groups[$chatid]!='english'){
				editMessageText($chatid,$message_id2,$text_panel_fa,'HTML',buttonSilent($oders));
			}else{
				editMessageText($chatid,$message_id2,$text_panel_en,'HTML',buttonSilent($oders));
			}
		}
	}
}
if($data=='delete_all_silent'){
	if($situation=='ok'){
		foreach($silent_list as $key=>$value){
			bot('RestrictChatMember',[
			'chat_id'=>$chatid,
			'user_id'=>$key,
			'can_post_messages'=>true,
			'can_add_web_page_previews'=>true,
			'can_send_other_messages'=>true,
			'can_send_media_messages'=>true,
			'can_edit_messages'=>true
			]);
			unset($silent_list[$key]);
		}
		saveJson("data/groups/$chatid/silent_list.json",$silent_list);
		if($groups[$chatid]!='english'){
			answerCallbackQuery("ØªÙ…Ø§Ù… Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø§Ø² Ù„ÛŒØ³Øª Ø³Ú©ÙˆØª Ú¯Ø±ÙˆÙ‡ Ø­Ø°Ù Ø´Ø¯Ù†Ø¯ğŸš€",true);
			editMessageText($chatid,$message_id2,$text_panel_fa,'HTML',buttonSilent($oders));
		}else{
			answerCallbackQuery("All users deleted from silent listğŸš€",true);
			editMessageText($chatid,$message_id2,$text_panel_en,'HTML',buttonSilent($oders));
		}
	}
}
#button change language
if($data=='change_language'){
	if($situation=='ok'){
		if($groups[$chatid]!='english'){
			editMessageText($chatid,$message_id2,"ã€½ï¸Ù„Ø·ÙØ§ Ø²Ø¨Ø§Ù† Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯ :",'HTML',$button_select_lan);
		}else{
			editMessageText($chatid,$message_id2,"ã€½ï¸Please choose your language :",'HTML',$button_select_lan);
		}
	}
}
#button select language persian
if($data=='selected_persian'){
	if($situation=='ok'){
		$groups[$chatid]='ÙØ§Ø±Ø³ÛŒ';
		saveJson('data/bot/groups.json',$groups);
		answerCallbackQuery("Ø²Ø¨Ø§Ù† Ú¯Ø±ÙˆÙ‡ ÙØ§Ø±Ø³ÛŒ ØªÙ†Ø¸ÛŒÙ… Ø´Ø¯ !ğŸš€",false);
		editMessageText($chatid,$message_id2,"Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø§Ø¯Ù…ÛŒÙ† Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯ğŸŒº\n\nØ§Ø² Ú©ÛŒØ¨ÙˆØ±Ø¯ Ø²ÛŒØ± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯ !âœ…",'HTML',buttonPanel($groups[$chatid]));
	}
}
#button select language english
if($data=='selected_english'){
	if($situation=='ok'){
		$groups[$chatid]='english';
		saveJson('data/bot/groups.json',$groups);
		answerCallbackQuery("English group language set up !ğŸš€",false);
		editMessageText($chatid,$message_id2,"Welcome to the admin menuğŸŒº\n\nUse the keyboard below !âœ…",'HTML',buttonPanel($groups[$chatid]));
	}
}
#button cmd guide
if($data=='cmd_guide'){
	if($situation=='ok'){
		if($groups[$chatid]!='english'){
			$button_back=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"Ø¨Ø±Ú¯Ø´ØªğŸ”™",'callback_data'=>"managemant_group"]]
			]]);
			editMessageText($chatid,$message_id2,"Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø¯Ø³ØªÙˆØ±Ø§Øª Ø±Ø¨Ø§ØªğŸ“™\n\nâ€¢ Ø¯Ø±ÛŒØ§ÙØª Ù…Ù†ÙˆÛŒ Ù…Ø¯ÛŒØ±ÛŒØª :\n`panel` | `Ù…Ø¯ÛŒØ±ÛŒØª`\n\nâ€”----------------------------------------------------------\n\nâ€¢ ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† ÛŒÚ© Ù‚ÙÙ„ :\n`lock` | `Ù‚ÙÙ„`\n\nâ€¢ ØºÛŒØ± ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† ÛŒÚ© Ù‚ÙÙ„ :\n`unlock` | `Ø¨Ø§Ø²Ú©Ø±Ø¯Ù†` \n\n[[ sticker | photo | gif | video | videoselfi | voice | music | document | contact | location | game | text | link | username | Hashtag | bold | italic | coding | forward | tgservice | reply | caption | bot | join ]]\n\n[[ Ø§Ø³ØªÛŒÚ©Ø± | Ø¹Ú©Ø³ | Ú¯ÛŒÙ | ÙÛŒÙ„Ù… | ÙˆÛŒØ¯Ø¦ÙˆØ³Ù„ÙÛŒ | ØµØ¯Ø§ | Ù…ÙˆØ³ÛŒÙ‚ÛŒ | ÙØ§ÛŒÙ„ | Ù…Ø®Ø§Ø·Ø¨ | Ù…Ú©Ø§Ù† | Ø¨Ø§Ø²ÛŒ | Ù…ØªÙ† | Ù„ÛŒÙ†Ú© | ÛŒÙˆØ²Ø±Ù†ÛŒÙ… | Ù‡Ø´ØªÚ¯ | Ø¨ÙˆÙ„Ø¯ | Ø§ÛŒØªØ§Ù„ÛŒÚ© | Ú©Ø¯ÛŒÙ†Ú¯ | ÙÙˆØ±ÙˆØ§Ø±Ø¯ | Ø³Ø±ÙˆÛŒØ³ | Ø±ÛŒÙ¾Ù„Ø§ÛŒ | Ú©Ù¾Ø´Ù† | Ø±Ø¨Ø§Øª | Ø¹Ø¶ÙˆÛŒØª ]]\n\nâ€”----------------------------------------------------------\n\nâ€¢ Ù†Ø¸Ø§Ø±Øª Ø¨Ø± ÛŒÚ© Ù‚ÙÙ„ :\n\nØ´Ù…Ø§ Ø¨Ø§ ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ù†Ø§Ù… Ø¢Ù† Ù‚ÙÙ„ Ù…ÛŒ ØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ø± Ø¢Ù† Ù†Ø¸Ø§Ø±Øª Ú©Ù†ÛŒØ¯ !\n(Ù†Ø§Ù… Ù‚ÙÙ„ Ù‡Ø§ Ø¯Ø± Ø¨Ø§Ù„Ø§ Ø°Ú©Ø± Ø´Ø¯Ù‡ Ø§Ø³Øª !)\n\nâ€”----------------------------------------------------------\n\n1- Ø´Ù…Ø§ Ù…ÛŒ ØªÙˆØ§Ù†ÛŒØ¯ Ø¯Ø³ØªÙˆØ±Ø§Øª Ø±Ø§ Ø¨Ø§ Ø­Ø±ÙˆÙ Ú©ÙˆÚ†Ú© ÛŒØ§ Ø¨Ø²Ø±Ú¯ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯.\nØ±Ø¨Ø§Øª Ù‡ÛŒÚ† ØªÙØ§ÙˆØªÛŒ Ø¨ÛŒÙ† Ø­Ø±ÙˆÙ Ú©ÙˆÚ†Ú© Ùˆ Ø¨Ø²Ø±Ú¯ Ù‚Ø§Ø¹Ù„ Ù†Ù…ÛŒ Ø´ÙˆØ¯ !\nÙ…Ø«Ø§Ù„ :\nLOCK STICKER \nÙˆ\nlock sticker\nÙ‡ÛŒÚ† ÙØ±Ù‚ÛŒ Ø¨Ø§ ÛŒÚ©Ø¯ÛŒÚ¯Ø± Ù†Ø¯Ø§Ø±Ù†Ø¯.\n\n2-Ø´Ù…Ø§ Ù…ÛŒ ØªÙˆØ§Ù†ÛŒØ¯ Ø¯Ø³ØªÙˆØ±Ø§Øª Ø±Ø§ Ø¨Ù‡ Ù‡Ø±Ú¯ÙˆÙ†Ù‡ Ú©Ù‡ Ù…Ø§ÛŒÙ„ÛŒØ¯ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯.\nØ±Ø¨Ø§Øª Ù…ÛŒ ØªÙˆØ§Ù†Ø¯ Ø¢Ù†Ù‡Ø§ Ø±Ø§ ØªÙØ³ÛŒØ± Ú©Ù†Ø¯ !\nÙ…Ø«Ø§Ù„ :\nLock Ø§Ø³ØªÛŒÚ©Ø±\nÙˆ\nÙ‚ÙÙ„ sticker\nÙ‡ÛŒÚ† ÙØ±Ù‚ÛŒ Ø¨Ø§ ÛŒÚ©Ø¯ÛŒÚ¯Ø± Ù†Ø¯Ø§Ø±Ù†Ø¯.\n\n3- Ø´Ù…Ø§ Ù…ÛŒ ØªÙˆØ§Ù†ÛŒØ¯ Ø¯Ø§Ø®Ù„ Ø¯Ø³ØªÙˆØ±Ø§Øª Ø®ÙˆØ¯ Ø§Ø² Ø¹Ù„Ø§Ù…Øª Ù‡Ø§ÛŒ ! Ùˆ / Ùˆ # Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯.\nÙ…Ø«Ø§Ù„ :\n/lock sticker\nÙˆ\nlo#ck sticker\nÙ‡ÛŒÚ† ØªÙØ§ÙˆØªÛŒ Ø¨Ø§ Ù‡Ù… Ù†Ø¯Ø§Ø±Ù†Ø¯.\n\nØ§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§ÛŒÙ† Ø¹Ù„Ø§Ù…Øª Ù‡Ø§ Ø¨Ø§Ø¹Ø« Ù…ÛŒØ´ÙˆØ¯ ØªØ§ Ø¯Ø³ØªÙˆØ±Ø§Øª Ø§ÛŒÙ† Ø±Ø¨Ø§Øª Ø¨Ø§ Ø¯ÛŒÚ¯Ø± Ø±Ø¨Ø§Øª Ù‡Ø§ÛŒ Ø¯Ø±ÙˆÙ† Ú¯Ø±ÙˆÙ‡ Ø´Ù…Ø§ Ù…ØªÙ…Ø§ÛŒØ² Ø´ÙˆØ¯ !\n\nâ€”----------------------------------------------------------\n\nØ´Ù…Ø§ Ù…ÛŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ø§ Ø§ÛŒÙ† Ø¯Ø³ØªÙˆØ± Ú†Ù†Ø¯ Ù¾ÛŒØ§Ù… Ø±Ø§ Ø¨ØµÙˆØ±Øª Ù…ØªÙˆØ§Ù„ÛŒ Ø­Ø°Ù Ú©Ù†ÛŒØ¯ :\n\ndelete [[number]]\nÙˆ ÛŒØ§\nØ­Ø°Ù [[number]]\nØ¨Ø¬Ø§ÛŒ number Ù…ÛŒ ØªÙˆØ§Ù†ÛŒØ¯ Ø¹Ø¯Ø¯ÛŒ Ø¨ÛŒÙ† 1 ØªØ§ 100 Ø¨Ú¯Ø°Ø§Ø±ÛŒØ¯ !\n\nâ€”----------------------------------------------------------\n\nØ³Ú©ÙˆØª Ú©Ø§Ø±Ø¨Ø± Ø¨Ø§ Ø¯Ø³ØªÙˆØ± :\nsilent + [[reply]]\nÙˆÛŒØ§\nØ³Ú©ÙˆØª + [[reply]]\n\nâ€”----------------------------------------------------------\n\nÙ„ØºÙˆ Ø³Ú©ÙˆØª Ø§ÙØ±Ø§Ø¯ Ø¨Ø§ Ø¯Ø³ØªÙˆØ± :\n\nunsilent + [[reply]]\nÙˆ ÛŒØ§\nÙ„ØºÙˆ Ø³Ú©ÙˆØª + [[reply]]\n\nâ€”----------------------------------------------------------\n\nØ¨Ø±Ø§ÛŒ Ù…Ø¹Ø§Ù Ú©Ø±Ø¯Ù† ÛŒÚ© ÙØ±Ø¯ Ø§Ø² Ø§Ø¯ Ú©Ø±Ø¯Ù† Ø§Ø¬Ø¨Ø§Ø±ÛŒ Ø¨Ù‡ Ú¯Ø±ÙˆÙ‡ Ø¯Ø³ØªÙˆØ± Ø²ÛŒØ± Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯ :\n\nÙ…Ø¹Ø§Ù +  [[reply]]\nÙˆ ÛŒØ§\nexempt + [[reply]]\n\nâ€”----------------------------------------------------------\n\nØ¨Ø±Ø§ÛŒ  Ø­Ø°Ù Ù…Ø¹Ø§ÙÛŒØª ÛŒÚ© ÙØ±Ø¯ Ø§Ø² Ø§Ø¯ Ú©Ø±Ø¯Ù† Ø§Ø¬Ø¨Ø§Ø±ÛŒ Ø¨Ù‡ Ú¯Ø±ÙˆÙ‡ Ø¯Ø³ØªÙˆØ± Ø²ÛŒØ± Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯ :\n\nØ§Ø¬Ø¨Ø§Ø± +  [[reply]]\nÙˆ ÛŒØ§\ncompulsor + [[reply]]\n\n[Ú©Ø§Ù†Ø§Ù„ Ù…Ø§](https://t.me/bonabit)",'MarkDown',$button_back);
		}else{
			$button_back=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"BackğŸ”™",'callback_data'=>"managemant_group"]]
			]]);
			editMessageText($chatid,$message_id2,"Robot Command Guide \n \n â€¢ Get the Admin Menu: \n`panel` | `Management` \n \n ------------------------------------------ ---------------- \n \n â€¢ Enable a lock: \n`lock` | `Lock` \n \n â€¢ Disable a lock: \n`unlock` | `Open` \n \n [[sticker | Photo | Gif | video | videoselfi | Voice | Music | document | contact | location | Game | Text | link | username | Hashtag | bold | Italic | Coding | Forward | tgservice | reply | Caption | bot | join]] \n \n ------------------------------------------ ---------------- \n \n â€¢ Monitor a lock: \n \nYou can locate it by calling it! \n (lock name above Cited!) \n \n ---------------------------------------------------------- \n \n1- You can send commands in lowercase or uppercase. \nBot no difference between uppercase and lowercase! \n Example: \nLOCK STICKER \n and \nlock sticker \n are no different. \n \n2- You can send commands as you like. \n The robot can interpret them! \n Example: \nLock Sticker \n and \n lock the sticker \n are no different. \n \n3- You can insert your own commands from the characters! And / and #. \n Example: \n / lock sticker \n and \nlo # ck sticker \n are no different. \n \n Use of these tags makes the robot commands with other robots within your group Be distinctive! \n \n----------------------------------------------------------\n\nYou should delete message by this command :\n\ndelete [[number]]\nInsert number instead of number !\nThe number should be between 1 and 100 !\n\n----------------------------------------------------------\n\nsilent users by :\nsilent\n\n----------------------------------------------------------\n\nunsilent users by : \n unsilent\n\n----------------------------------------------------------- \n\nIf you want to exempt a person from compulsory adding, send the following command:\n\n exempt + [[reply]]\n\n-----------------------------------------------------------\n\nTo remove the impersonation of a person from the mandatory submission to the group, submit the following command: \n\ncompulsor + [[reply]] \n\n[Ú©Ø§Ù†Ø§Ù„ Ù…Ø§](https://t.me/bonabit)",'MarkDown',$button_back);
		}
	}
}
#button exit
if($data=='exit'){
	if($situation=='ok'){
		deleteMessage($chatid,$message_id2);
	}
}
#filters
if(isset($update->message)){
	foreach($update->message as $key=>$value){
		if(($key=='new_chat_member' || $key=='left_chat_member' || $key=='new_chat_photo' || $key=='delete_chat_photo' || $key=='pinned_message' || $key=='new_chat_title') && $settings['tgservice']=='âœ…'){
			deleteMessage($chatid,$message_id);
		}
	}
}
if(isset($update->message)){
	if($situation3=='ok'){
		foreach($update->message as $key=>$value){
			if($settings[$key]=='âœ…'){
				deleteMessage($chatid,$message_id);
			}
			elseif($key=='video_note' && $settings['videoselfi']=='âœ…'){
				deleteMessage($chatid,$message_id);
			}
			elseif($key=='audio' && $settings['music']=='âœ…'){
				deleteMessage($chatid,$message_id);
			}
			elseif($key=='reply_to_message' && $settings['reply']=='âœ…'){
				deleteMessage($chatid,$message_id);
			}
			elseif($key=='caption' && $settings['caption']=='âœ…'){
				deleteMessage($chatid,$message_id);
			}
			elseif(($key=='forward_from' || $key=='forward_from_chat' || $key=='forward_signature') && $settings['forward']=='âœ…'){
				deleteMessage($chatid,$message_id);
			}
		}
	}
}
if($update->message->entities){
	if($situation3=='ok'){
		foreach($update2['message']['entities'] as $key=>$value){
			$e=$update2['message']['entities'][$key]['type'];
			if($e=='bold' && $settings['bold']=='âœ…'){
				deleteMessage($chatid,$message_id);
			}
			elseif($e=='italic' && $settings['italic']=='âœ…'){
				deleteMessage($chatid,$message_id);
			}
			elseif($e=='hashtag' && $settings['hashtag']=='âœ…'){
				deleteMessage($chatid,$message_id);
			}
			elseif($e=='url' && $settings['link']=='âœ…'){
				deleteMessage($chatid,$message_id);
			}
			elseif($e=='text_link' && $settings['link']=='âœ…'){
				deleteMessage($chatid,$message_id);
			}
			elseif($e=='mention' && $settings['username']=='âœ…'){
				deleteMessage($chatid,$message_id);
			}
			elseif($e=='text_mention' && $settings['username']=='âœ…'){
				deleteMessage($chatid,$message_id);
			}
			elseif($e=='code' && $settings['coding']=='âœ…'){
				deleteMessage($chatid,$message_id);
			}
		}
	}
}
if($update2->message->caption_entities){
	if($situation3=='ok'){
		foreach($update2['message']['caption_entities'] as $key=>$value){
			$e=$update2['message']['caption_entities'][$key]['type'];
			if($e=='bold' && $settings['bold']=='âœ…'){
				deleteMessage($chatid,$message_id);
			}
			elseif($e=='italic' && $settings['italic']=='âœ…'){
				deleteMessage($chatid,$message_id);
			}
			elseif($e=='hashtag' && $settings['hashtag']=='âœ…'){
				deleteMessage($chatid,$message_id);
			}
			elseif($e=='url' && $settings['link']=='âœ…'){
				deleteMessage($chatid,$message_id);
			}
			elseif($e=='text_link' && $settings['link']=='âœ…'){
				deleteMessage($chatid,$message_id);
			}
			elseif($e=='mention' && $settings['username']=='âœ…'){
				deleteMessage($chatid,$message_id);
			}
			elseif($e=='text_mention' && $settings['username']=='âœ…'){
				deleteMessage($chatid,$message_id);
			}
			elseif($e=='code' && $settings['coding']=='âœ…'){
				deleteMessage($chatid,$message_id);
			}
		}
	}
}
if($update->message->new_chat_member->is_bot==true && $settings['bot']=='âœ…' && $situation3=='ok'){
	kickChatMember($chatid,$new_chat_member_id);
}
if($update->message->from->is_bot==true && $settings['bot']=='âœ…' && $situation3=='ok'){
	kickChatMember($chatid,$fromid);
}
if($oders['compulsory_add']=='âœ…' && in_array($fromid,$exempt_list)==false){
	if($situation3=='ok'){
		if($number_add[$fromid]==null){
			$number_add[$fromid][]=0;
			$number_add[$fromid][]='no';
		}
		if($number_add[$fromid][0]<$oders['number_compulsory_add']){
			if($new_chat_member_id!=$fromid && isset($update->message->new_chat_member) && $update->message->new_chat_member->is_bot==false){
				$new_number=$number_add[$fromid][0]+1;
				$number_add[$fromid][0]=$new_number;
				$new_count=$oders['statistics_compulsory_add']+1;
				$oders['statistics_compulsory_add']=$new_count;
				saveJson("data/groups/$chatid/oders.json",$oders);
				if($number_add[$fromid][0]>=$oders['number_compulsory_add']){
					if($groups[$chatid]!='english'){
						sendMessage($chatid,"Ú©Ø§Ø±Ø¨Ø± $first_name\nØ´Ù…Ø§ $oders[number_compulsory_add] Ø¹Ø¶Ùˆ Ø±Ø§ Ø¨Ù‡ Ú¯Ø±ÙˆÙ‡ Ø¯Ø¹ÙˆØª Ú©Ø±Ø¯ÛŒØ¯ Ùˆ Ø´Ù…Ø§ Ù…Ø¨ØªÙˆØ§Ù†ÛŒØ¯ Ø§Ú©Ù†ÙˆÙ† Ø¯Ø± Ú¯Ø±ÙˆÙ‡ Ú†Øª Ú©Ù†ÛŒØ¯ !",'HTML',null,null);
					}else{
						sendMessage($chatid,"User $first_name\nYou invited $oders[number_compulsory_add] members to the group and you can now chat in the group.ğŸŒ¹",'HTML',null,null);
					}
				}else{
					$sould_num=$oders['number_compulsory_add']-$number_add[$fromid][0];
					$my_add=$number_add[$fromid][0];
					if($groups[$chatid]!='english'){
						sendMessage($chatid,"Ú©Ø§Ø±Ø¨Ø± $first_name\nØ´Ù…Ø§ ÛŒÚ© Ù†ÙØ± Ø±Ø§ Ø¨Ù‡ Ú¯Ø±ÙˆÙ‡ Ø¯Ø¹ÙˆØª Ú©Ø±Ø¯ÛŒØ¯.ğŸ¤ \nØ´Ù…Ø§ Ø¨Ø§ÛŒØ¯ $sould_num Ø¹Ø¶Ùˆ Ø¯ÛŒÚ¯Ø± Ø±Ø§ Ø¨Ù‡ Ú¯Ø±ÙˆÙ‡ Ø¯Ø¹ÙˆØª Ú©Ù†ÛŒØ¯ ØªØ§ Ø¨ØªÙˆØ§Ù†ÛŒØ¯ Ú†Øª Ú©Ù†ÛŒØ¯â™¨ï¸\nğŸ¾ØªØ¹Ø¯Ø§Ø¯ Ù†ÙØ±Ø§ØªÛŒ Ú©Ù‡ ØªÙˆØ³Ø· Ø´Ù…Ø§ Ø¯Ø¹ÙˆØª Ø´Ø¯Ù‡ Ø§Ù†Ø¯ : $my_add",'HTML',null,null);
					}else{
						sendMessage($chatid,"User $first_name\nYou invited someone to the group.ğŸ¤ \nYou still have to invite $sould_num others to chat so that you can chatâ™¨ï¸\nğŸ¾Number of members invited by you : $my_add",'HTML',null,null);
					}
					deleteMessage($chatid,$message_id);
				}
			}
			elseif(empty($update->message->left_chat_member)){
				if($number_add[$fromid][1]!='yes'){
					$number_add[$fromid][1]='yes';
					if($groups[$chatid]!='english'){
						sendMessage($chatid,"Ú©Ø§Ø±Ø¨Ø± $first_name\nØ´Ù…Ø§ Ø¨Ø§ÛŒØ¯ $oders[number_compulsory_add] Ø¹Ø¶Ùˆ Ø±Ø§ Ø¨Ù‡ Ú¯Ø±ÙˆÙ‡ Ø¯Ø¹ÙˆØª Ú©Ù†ÛŒØ¯ ØªØ§ Ø¨ØªÙˆØ§Ù†ÛŒØ¯ Ú†Øª Ú©Ù†ÛŒØ¯ !âš ï¸\nØ¯Ø± ØºÛŒØ± Ø§ÛŒÙ† ØµÙˆØ±Øª Ù¾ÛŒØ§Ù… Ø´Ù…Ø§ Ø§Ø² Ú¯Ø±ÙˆÙ‡ Ø­Ø°Ù Ù…ÛŒØ´ÙˆØ¯ !ğŸ’¢",'HTML',null,null);
					}else{
						sendMessage($chatid,"User $first_name\nYou must invite $oders[number_compulsory_add] members to group in order to be able to chat!âš ï¸\nOtherwise, your message will be deleted from the group !ğŸ’¢",'HTML',null,null);
					}
				}
				deleteMessage($chatid,$message_id);
			}
			saveJson("data/groups/$chatid/number_add.json",$number_add);
		}
	}
}
if($oders['compulsory_join']=='âœ…'){
	if($situation3=='ok'){
		$join=json_decode(file_get_contents_curl("https://api.telegram.org/bot".API_KEY."/getChatMember?chat_id=".$oders['channel_compulsory_join']."&user_id=".$fromid))->result->status;
		if($join!='member' && $join!='administrator' && $join!='creator'){
			deleteMessage($chatid,$message_id);
			$join=json_decode(file_get_contents("data/groups/$chatid/join.json"),true);
			if($join[$fromid]==null){
				$join[$fromid]='ok';
				saveJson("data/groups/$chatid/join.json",$join);
				$username=str_replace('@','',$oders['channel_compulsory_join']);
				if($groups[$chatid]!='english'){
					$button_join=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
					[['text'=>"ğŸƒØ¨Ø±Ø§ÛŒ Ø¹Ø¶ÙˆÛŒØª Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯ğŸƒ",'url'=>"https://t.me/".$username]]
					]]);
					sendMessage($chatid,"ğŸŒ¹Ø³Ù„Ø§Ù… $first_name\nØ´Ù…Ø§ Ø¨Ø§ÛŒØ¯ Ø¯Ø± Ú©Ø§Ù†Ø§Ù„ Ù…Ø§ Ø¹Ø¶Ùˆ Ø´ÙˆÛŒØ¯ ØªØ§ Ø¨ØªÙˆØ§Ù†ÛŒØ¯ Ø¯Ø± Ú¯Ø±ÙˆÙ‡ Ú†Øª Ú©Ù†ÛŒØ¯.Ø¯Ø± ØºÛŒØ± Ø§ÛŒÙ† ØµÙˆØ±Øª Ù¾ÛŒØ§Ù… Ø´Ù…Ø§ Ø§Ø² Ú¯Ø±ÙˆÙ‡ Ø­Ø°Ù Ù…ÛŒØ´ÙˆØ¯.\nØ¨Ø±Ø§ÛŒ Ø¹Ø¶ÙˆÛŒØª Ø¯Ø± Ú©Ø§Ù†Ø§Ù„ Ù…Ø§ Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ Ø²ÛŒØ± Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯ !â¬‡ï¸",'HTML',$button_join,null);
				}else{
					$button_join=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
					[['text'=>"ğŸƒClick to joinğŸƒ",'url'=>"https://t.me/".$username]]
					]]);
					sendMessage($chatid,"ğŸŒ¹Hello $first_name\nYou must be a member of our channel to be able to chat in the group. Otherwise your message will be deleted.\nClick the button below to subscribe to our channel !â¬‡ï¸",'HTML',$button_join,null);
				}
			}
		}
	}
}
if($oders['frequent_message']=='âœ…'){
	if($situation3=='ok'){
		$time=date('Y-m-d-h-i-sa');
		$time=str_replace('am',null,$time);
		if(!array_key_exists($fromid,$spam)){
			$spam[$fromid][]=$time;
			$spam[$fromid][]=1;
		}else{
			if($spam[$fromid][0]==$time){
				$spam[$fromid][1]=$spam[$fromid][1]+1;
			}else{
				$spam[$fromid][0]=$time;
				$spam[$fromid][1]=1;
			}
		}
		saveJson('data/groups/'.$chatid.'/spam.json',$spam);
		$number=$spam[$fromid][1];
		if($number>=$oders['number_frequent_message'] && $spam[$fromid][0]==$time){
			if($oders['reaction_frequent_message']=='Silent user'){
				bot('RestrictChatMember',[
				'chat_id'=>$chatid,
				'user_id'=>$fromid,
				'can_post_messages'=>false,
				'can_add_web_page_previews'=>false,
				'can_send_other_messages'=>false,
				'can_send_media_messages'=>false,
				'can_edit_messages'=>false
				]);
				$silent_list[$fromid]=date('Y/m/d');
				saveJson('data/groups/'.$chatid.'/silent_list.json',$silent_list);
				if($groups[$chatid]!='english'){
					sendMessage($chatid,"Ú©Ø§Ø±Ø¨Ø± $first_name Ø¨Ø¯Ù„ÛŒÙ„ Ø§Ø±Ø³Ø§Ù„ Ø¨ÛŒØ´ Ø§Ø² Ø­Ø¯ Ù¾ÛŒØ§Ù… Ø¯Ø± ÛŒÚ© Ø«Ø§Ù†ÛŒÙ‡ ØªÙˆØ§Ù†Ø§ÛŒÛŒ Ú†Øª Ø®ÙˆØ¯ Ø±Ø§ Ø§Ø² Ø¯Ø³Øª Ø¯Ø§Ø¯ !â™¨ï¸",'HTML',null,$message_id);
				}else{
					sendMessage($chatid,"The user $first name lost the ability to chat due to over-message sending in a second! â™¨ï¸",'HTML',null,$message_id);
				}
			}
			elseif($oders['reaction_frequent_message']=='Kick user'){
				kickChatMember($chatid,$fromid);
				if($groups[$chatid]!='english'){
					sendMessage($chatid,"Ú©Ø§Ø±Ø¨Ø± $first_name Ø¨Ø¯Ù„ÛŒÙ„ Ø§Ø±Ø³Ø§Ù„ Ø¨ÛŒØ´ Ø§Ø² Ø­Ø¯ Ù¾ÛŒØ§Ù… Ø¯Ø± 1 Ø«Ø§Ù†ÛŒÙ‡ Ø§Ø² Ú¯Ø±ÙˆÙ‡ Ø§Ø®Ø±Ø§Ø¬ Ø´Ø¯ â™¨ï¸",'HTML',null,$message_id);
				}else{
					sendMessage($chatid,"The user $first name was expelled from the group because of an over-message sending in the group â™¨ï¸",'HTML',null,$message_id);
				}
			}
		}
	}
}
if($oders['character_constraint']=='âœ…'){
	if($situation3=='ok'){
		if(strlen($text)>$oders['highest_number_character_constraint']){
			deleteMessage($chatid,$message_id);
			$e=$oders['highest_number_character_constraint'];
			if($groups[$chatid]!='english'){
				sendMessage($chatid,"Ú©Ø§Ø±Ø¨Ø± $first_name\nØªØ¹Ø¯Ø§Ø¯ Ú©Ø§Ø±Ø§Ú©ØªØ± Ù‡Ø§ÛŒ Ù¾ÛŒØ§Ù… Ø´Ù…Ø§ Ø¨ÛŒØ´ Ø§Ø² Ø­Ø¯ âš ï¸\nØ´Ù…Ø§ Ù…ÛŒ ØªÙˆØ§Ù†ÛŒØ¯ Ù¾ÛŒØ§Ù… Ù‡Ø§ÛŒÛŒ Ø¨Ø§ Ø­Ø¯Ø§Ú©Ø«Ø± Ø·ÙˆÙ„ $e Ú©Ø§Ø±Ø§Ú©ØªØ± Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯â€¼ï¸",'HTML',null,null);
			}else{
				sendMessage($chatid,"User $first_name\nThe number of characters in your message exceeds the limitâš ï¸\nYou can send messages with a length of $e charactersâ€¼ï¸",'HTML',null,null);
			}
		}
	}
}
if($oders['silent_group']=='âœ…'){
	if($situation3=='ok'){
		if($oders['silent_start']<=date('H') && $oders['silent_stop']>=date('H')){
			deleteMessage($chatid,$message_id);
		}
	}
}
if($oders['silent_group']=='âœ…'){
	if($oders['silent_start']==date('H') && $oders['silent_ok']!='âœ…'){
		$oders['silent_ok']='âœ…';
		saveJson("data/groups/$chatid/oders.json",$oders);
		$start=$oders['silent_start'];
		$stop=$oders['silent_stop'];
		if($groups[$chatid]!='english'){
			sendMessage($chatid,"Ú¯Ø±ÙˆÙ‡ Ø¨ØµÙˆØ±Øª Ø®ÙˆØ¯Ú©Ø§Ø± Ø¯Ø± Ø­Ø§Ù„ Ø³Ú©ÙˆØª Ù‚Ø±Ø§Ø± Ú¯Ø±ÙØª !ğŸš€\n\nØªÙ…Ø§Ù…ÛŒ Ù¾ÛŒØ§Ù… Ù‡Ø§ÛŒÛŒ Ú©Ù‡ Ø§Ø² Ø³Ø§Ø¹Øª `$start` ØªØ§ `$stop` Ø§Ø±Ø³Ø§Ù„ Ø´ÙˆÙ†Ø¯ ØªÙˆØ³Ø· Ø±Ø¨Ø§Øª Ø­Ø°Ù Ø®ÙˆØ§Ù‡Ù†Ø¯ Ø´Ø¯ !ğŸ—‘",'MarkDown',null,null);
		}else{
			sendMessage($chatid,"The group was automatically silent !ğŸš€\n\nAll messages sent from the `$start` to `$stop` will be deleted by the robot! ğŸ—‘",'MarkDown',null,null);
		}
	}
}
if(($oders['silent_start']>date('H') && $oders['silent_stop']>date('H')) || ($oders['silent_start']<date('H') && $oders['silent_stop']<date('H')) || $oders['silent_group']=='â˜‘ï¸'){
	if($oders['silent_ok']=='âœ…'){
		$oders['silent_ok']='â˜‘ï¸';
		saveJson("data/groups/$chatid/oders.json",$oders);
	}
}
#join channel
if($chatid!=$dev && $tc=='private'){
	if($join_channel!='member' && $join_channel!='administrator' && $join_channel!='creator'){
		if($members[$chatid]!='english'){
			$text="Ú©Ø§Ø±Ø¨Ø± Ú¯Ø±Ø§Ù…ÛŒğŸŒ¹\nØ´Ù…Ø§ Ø¨Ø§ÛŒØ¯ Ø­ØªÙ…Ø§ Ø¹Ø¶Ùˆ Ú©Ø§Ù†Ø§Ù„ Ù…Ø§ Ø´ÙˆÛŒØ¯ ØªØ§ Ø§Ø² Ø¢Ø®Ø±ÛŒÙ† Ø§Ø®Ø¨Ø§Ø± Ùˆ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø±Ø¨Ø§Øª Ø¨Ø±Ø®ÙˆØ±Ø¯Ø§Ø± Ø´ÙˆÛŒØ¯ !\nâ¬‡ï¸Ø¨Ø±Ø§ÛŒ Ø¹Ø¶ÙˆÛŒØª Ø¯Ø± Ú©Ø§Ù†Ø§Ù„ Ù…Ø§ Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ Ø²ÛŒØ± Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯â¬‡ï¸";
			$button_join=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"ğŸ—Ù¾ÛŒÙˆØ³ØªÙ† Ø¨Ù‡ Ú©Ø§Ù†Ø§Ù„ Ù…Ø§ğŸ—",'url'=>"https://t.me/bonabit"]]
			]]);
		}
		elseif($members[$chatid]=='english'){
			$text="Dear userğŸŒ¹\nYou must be a member of our channel to get the latest robot news and information !\nâ¬‡ï¸Click the button below to subscribe to our channelâ¬‡ï¸";
			$button_join=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"ğŸ—Join to our channelğŸ—",'url'=>"https://t.me/bonabit"]]
			]]);
		}
		elseif($members[$chatid]==null){
			$text="Ú©Ø§Ø±Ø¨Ø± Ú¯Ø±Ø§Ù…ÛŒğŸŒ¹\nØ´Ù…Ø§ Ø¨Ø§ÛŒØ¯ Ø­ØªÙ…Ø§ Ø¹Ø¶Ùˆ Ú©Ø§Ù†Ø§Ù„ Ù…Ø§ Ø´ÙˆÛŒØ¯ ØªØ§ Ø§Ø² Ø¢Ø®Ø±ÛŒÙ† Ø§Ø®Ø¨Ø§Ø± Ùˆ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø±Ø¨Ø§Øª Ø¨Ø±Ø®ÙˆØ±Ø¯Ø§Ø± Ø´ÙˆÛŒØ¯ !\nâ¬‡ï¸Ø¨Ø±Ø§ÛŒ Ø¹Ø¶ÙˆÛŒØª Ø¯Ø± Ú©Ø§Ù†Ø§Ù„ Ù…Ø§ Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ Ø²ÛŒØ± Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯â¬‡ï¸\n\nâ–â–â–â–â–â–â–â–â–â–â–â–â–â–\n\nDear userğŸŒ¹\nYou must be a member of our channel to get the latest robot news and information !\nâ¬‡ï¸Click the button below to subscribe to our channelâ¬‡ï¸";
			$button_join=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"ğŸ—Ù¾ÛŒÙˆØ³ØªÙ† Ø¨Ù‡ Ú©Ø§Ù†Ø§Ù„ Ù…Ø§ğŸ—",'url'=>"https://t.me/bonabit"]],
			[['text'=>"ğŸ—Join to our channelğŸ—",'url'=>"https://t.me/bonabit"]]
			]]);
		}
		sendMessage($chatid,$text,'HTML',$button_join,$message_id);
		die;
	}
}
#start
if($filter_cmd=='start' || $filter_cmd=='panel'){
	if($tc=='private'){
		if($chatid==$dev){
			file_put_contents('data/bot/step.txt','home');
		}
		if($members[$chatid]!=null){
			if($members[$chatid]!='english'){
				sendMessage($chatid,$text_start_fa,'MarkDown',buttonPanelPrivate($chatid),$message_id);
			}else{
				sendMessage($chatid,$text_start_en,'MarkDown',buttonPanelPrivate($chatid),$message_id);
			}
		}else{
			sendMessage($chatid,"â£ï¸Ù„Ø·ÙØ§ Ø²Ø¨Ø§Ù† Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯ :\n\nâ–â–â–â–â–â–â–â–â–â–â–â–â–â–\n\nâ£ï¸Please choose your language :",'HTML',$button_select_lan,$message_id);
		}
		die;
	}
}
#button select language persian
if($data=='selected_persian'){
	if($tc2=='private'){
		if($chatid==$dev){
			file_put_contents('data/bot/step.txt',$data);
		}
		$members[$chatid]='ÙØ§Ø±Ø³ÛŒ';
		saveJson('data/bot/members.json',$members);
		answerCallbackQuery("Ø²Ø¨Ø§Ù† Ø±Ø¨Ø§Øª ÙØ§Ø±Ø³ÛŒ ØªÙ†Ø¸ÛŒÙ… Ø´Ø¯ !ğŸš€",false);
		editMessageText($chatid,$message_id2,$text_start_fa,'MarkDown',buttonPanelPrivate($chatid));
	}
}
#button select language english
if($data=='selected_english'){
	if($tc2=='private'){
		if($chatid==$dev){
			file_put_contents('data/bot/step.txt',$data);
		}
		$members[$chatid]='english';
		saveJson('data/bot/members.json',$members);
		answerCallbackQuery("English robot language set up !ğŸš€",false);
		editMessageText($chatid,$message_id2,$text_start_en,'MarkDown',buttonPanelPrivate($chatid));
	}
}
#button support
if($data=='support'){
	if($tc2=='private'){
		if($chatid==$dev){
			file_put_contents('data/bot/step.txt',$data);
		}
		if($members[$chatid]!='english'){
			$text="Ø¯Ø±ØµÙˆØ±ØªÛŒ Ú©Ù‡ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø¯Ø§Ø±ÛŒØ¯ Ø§Ø² Ø·Ø±ÛŒÙ‚ Ø¯Ú©Ù…Ù‡ Ø²ÛŒØ± Ø¨Ù‡ Ø¨Ø®Ø´ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø¨Ù¾ÛŒÙˆÙ†Ø¯ÛŒØ¯.\nØ¯Ø±ØµÙˆØ±ØªÛŒ Ú©Ù‡ ØªÛŒÙ… Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ† Ø¨Ø§Ø´Ù†Ø¯ Ø­ØªÙ…Ø§ Ø¨Ù‡ Ø´Ù…Ø§ Ù¾Ø§Ø³Ø® Ø®ÙˆØ§Ù‡Ù†Ø¯ Ø¯Ø§Ø¯â£ï¸\n\nâ€¢ Ù„Ø·ÙØ§ Ø§Ø² Ø§Ø±Ø³Ø§Ù„ ØªØ¨Ù„ÛŒØºØ§Øª Ø®ÙˆØ¯Ø¯Ø§Ø±ÛŒ ÙØ±Ù…Ø§Ø¦ÛŒØ¯.\nâ€¢ Ù‡Ø±Ú†Ù‚Ø¯Ø± Ø¨Ø§ Ø§Ø¯Ø¨ Ø¨ÛŒØ´ØªØ±ÛŒ Ø³ÙˆØ§Ù„ Ø®ÙˆØ¯ Ø±Ø§ Ù…Ø·Ø±Ø­ Ú©Ù†ÛŒØ¯ Ø¬ÙˆØ§Ø¨ Ø¨Ù‡ØªØ±ÛŒ Ù†ÛŒØ² Ø¯Ø±ÛŒØ§ÙØª Ø®ÙˆØ§Ù‡ÛŒØ¯ Ú©Ø±Ø¯.\nâ€¢ Ù„Ø·ÙØ§ Ø§Ø² Ø§Ø±Ø³Ø§Ù„ Ø³ÙˆØ§Ù„Ø§Øª ØªÚ©Ø±Ø§Ø±ÛŒ Ùˆ Ø¨ÛŒÙ‡ÙˆØ¯Ù‡ Ø¬Ø¯Ø§ Ø®ÙˆØ¯Ø¯Ø§Ø±ÛŒ ÙØ±Ù…Ø§Ø¦ÛŒØ¯.\n\n[Ú©Ø§Ù†Ø§Ù„ Ù…Ø§](https://t.me/bonabit)";
			$button_support=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"Ø¨Ø§Ø²Ú©Ø±Ø¯Ù† Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒğŸ·",'url'=>"https://telegram.me/Azarbinab"]],
			[['text'=>"Ø¨Ø±Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆğŸ”™",'callback_data'=>"managemant_group_private"]]
			]]);
		}else{
			$text="If you need support, join the support section via the button below.\nIf the support team is online, they will answer youâ£ï¸\n\nâ€¢ Please refrain from posting ads.\nâ€¢ The more you ask your question more literally, the better you will receive.\nâ€¢ Please refrain from sending repetitive and inappropriate questions.\n\n[Ú©Ø§Ù†Ø§Ù„ Ù…Ø§](https://t.me/bonabit)";
			$button_support=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"Login to supportğŸ·",'url'=>"https://telegram.me/Azarbinab"]],
			[['text'=>"Back to menuğŸ”™",'callback_data'=>"managemant_group_private"]]
			]]);
		}
		editMessageText($chatid,$message_id2,$text,'MarkDown',$button_support);
	}
}
#button support
if($data=='full_guide'){
	if($tc2=='private'){
		if($chatid==$dev){
			file_put_contents('data/bot/step.txt',$data);
		}
		if($members[$chatid]!='english'){
			$button_guide=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ù‚Ø§Ø¨Ù„ÛŒØª Ù‡Ø§ğŸ”†",'callback_data'=>"feature_guide"],['text'=>"Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ù†ØµØ¨ğŸ› ",'callback_data'=>"config_guide"]],
			[['text'=>"Ø¨Ø±Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆğŸ”™",'callback_data'=>"managemant_group_private"]]
			]]);
			editMessageText($chatid,$message_id2,"ğŸ”¸Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ù†ØµØ¨ :\nØ¯Ø± ØµÙˆØ±ØªÛŒ Ú©Ù‡ Ù†Ù…ÛŒ Ø¯Ø§Ù†ÛŒØ¯ Ú†Ú¯ÙˆÙ†Ù‡ Ø±Ø¨Ø§Øª Ø±Ø§ Ø¯Ø± Ú¯Ø±ÙˆÙ‡ Ø®ÙˆØ¯ Ù†ØµØ¨ Ú©Ù†ÛŒØ¯ Ø§Ø² Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯.\n\nğŸ”¹Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ù‚Ø§Ø¨Ù„ÛŒØª Ù‡Ø§ :\nØ¯Ø±ØµÙˆØ±ØªÛŒ Ú©Ù‡ Ù†Ù…ÛŒ Ø¯Ø§Ù†ÛŒØ¯ Ú†Ú¯ÙˆÙ†Ù‡ Ø§Ø² Ø¯Ø³ØªÙˆØ±Ø§Øª Ùˆ Ù‚Ø§Ø¨Ù„ÛŒØª Ù‡Ø§ÛŒ Ø±Ø¨Ø§Øª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯ Ø§Ø² Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯.\n\n[Ú©Ø§Ù†Ø§Ù„ Ù…Ø§](https://t.me/bonabit)",'MarkDown',$button_guide);
		}else{
			$button_guide=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"Feature GuideğŸ”†",'callback_data'=>"feature_guide"],['text'=>"Config GuideğŸ› ",'callback_data'=>"config_guide"]],
			[['text'=>"Back to menuğŸ”™",'callback_data'=>"managemant_group_private"]]
			]]);
			editMessageText($chatid,$message_id2,"ğŸ”¸Config Guide :\nIf you do not know how to install the robot in your group, use this section.\n\nğŸ”¹Feature Guide :\nIf you do not know how to use robot commands and capabilities, use this section.\n\n[Ú©Ø§Ù†Ø§Ù„ Ù…Ø§](https://t.me/bonabit)",'MarkDown',$button_guide);
		}
	}
}
#button config guide
if($data=='config_guide'){
	if($tc2=='private'){
		if($chatid==$dev){
			file_put_contents('data/bot/step.txt',$data);
		}
		if($members[$chatid]!='english'){
			$button_back_guide=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"Ø¨Ø±Ú¯Ø´ØªğŸ”™",'callback_data'=>"full_guide"]]
			]]);
			editMessageText($chatid,$message_id2,"Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ù†ØµØ¨ Ø±Ø¨Ø§Øª Ø¯Ø± Ú¯Ø±ÙˆÙ‡ :â™¨ï¸\n\n1 . Ø±ÙˆÛŒ [Ø§ÛŒÙ† Ù„ÛŒÙ†Ú©](https://telegram.me/bonabit_security_bot?startgroup=new) Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯ Ùˆ Ø±Ø¨Ø§Øª Ø±Ø§ Ø¨Ù‡ Ú¯Ø±ÙˆÙ‡ Ø®ÙˆØ¯ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯.\n\n2 . Ø³Ù¾Ø³ Ø±Ø¨Ø§Øª Ø±Ø§ Ù…Ø¯ÛŒØ± Ú¯Ø±ÙˆÙ‡ Ø®ÙˆØ¯ Ú©Ù†ÛŒØ¯ Ùˆ Ø¯Ø³ØªØ±Ø³ÛŒ Ù‡Ø§ÛŒ Ú©Ø§Ù…Ù„ Ø¨Ù‡ Ø¢Ù† Ø¨Ø¯Ù‡ÛŒØ¯.(Ø¯Ø³ØªØ±Ø³ÛŒ Ø¢Ø®Ø± ÛŒØ§ Ù‡Ù…Ø§Ù† Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ù…Ø¯ÛŒØ± Ø§Ø¬Ø¨Ø§Ø±ÛŒ Ù†ÛŒØ³Øª !)\n\n3 . Ø³Ù¾Ø³ Ø¯Ø³ØªÙˆØ± `config` Ùˆ ÛŒØ§ `Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ` Ø±Ø§ Ø¯Ø§Ø®Ù„ Ú¯Ø±ÙˆÙ‡ Ø®ÙˆØ¯ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯.\n\nØ±Ø¨Ø§Øª Ø¨Ù‡ Ù‡Ù…ÛŒÙ† Ø±Ø§Ø­ØªÛŒ Ø¯Ø§Ø®Ù„ Ú¯Ø±ÙˆÙ‡ Ø´Ù…Ø§ Ù†ØµØ¨ Ø´Ø¯ :)\n\n[Ú©Ø§Ù†Ø§Ù„ Ù…Ø§](https://t.me/bonabit)",'MarkDown',$button_back_guide);
		}else{
			$button_back_guide=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"BackğŸ”™",'callback_data'=>"full_guide"]]
			]]);
			editMessageText($chatid,$message_id2,"The robot installation guide for the group: â™¨ï¸ \n\n1. Click [This Link] (https://telegram.me/bonabit_security_bot?startgroup=new) and add the robot to your group.\n\n2. Then manage your robot and give it full access. (The last access is the addition of a compulsory manager!) \n\n3. Then send the `config` command in your group. \n\nThe robot is installed within your group just as easily :) \n\n [Ú©Ø§Ù†Ø§Ù„ Ù…Ø§] (https://t.me/bonabit)",'MarkDown',$button_back_guide);
		}
	}
}
#button feature guide
if($data=='feature_guide'){
	if($tc2=='private'){
		if($chatid==$dev){
			file_put_contents('data/bot/step.txt',$data);
		}
		if($members[$chatid]!='english'){
			$button_back_guide=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"Ø¨Ø±Ú¯Ø´ØªğŸ”™",'callback_data'=>"full_guide"]]
			]]);
			editMessageText($chatid,$message_id2,"Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø¯Ø³ØªÙˆØ±Ø§Øª Ùˆ Ù‚Ø§Ø¨Ù„ÛŒØª Ù‡Ø§ÛŒ Ø±Ø¨Ø§Øª :â™¨ï¸\n\nâ€¢ Ø´Ù…Ø§ Ù…ÛŒ ØªÙˆØ§Ù†ÛŒØ¯ Ù‚Ø¨Ù„ Ø§Ø² Ø¯Ø³ØªÙˆØ±Ø§Øª Ø±Ø¨Ø§Øª Ø¹Ù„Ø§Ù…Øª Ù‡Ø§ÛŒ ! / # Ø±Ø§ Ø¨Ú¯Ø°Ø§Ø±ÛŒØ¯ Ùˆ Ø­ØªÛŒ Ù…ÛŒ ØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ø¯ÙˆÙ† Ú¯Ø°Ø§Ø´ØªÙ† Ø¹Ù„Ø§Ù…Øª Ø¯Ø³ØªÙˆØ±Ø§Ø§Øª Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯. Ù…Ø«Ø§Ù„ :\n`/panel` - `!panel` - `#panel` - `panel`\n\nâ€¢ Ø±Ø¨Ø§Øª Ø§ØµÙ„Ø§ Ø¨Ù‡ Ú©ÙˆÚ†Ú©ÛŒ Ùˆ Ø¨Ø²Ø±Ú¯ÛŒ Ø­Ø±ÙˆÙ Ø­Ø³Ø§Ø³ Ù†ÛŒØ³Øª Ùˆ Ø´Ù…Ø§ Ù…ÛŒ ØªÙˆØ§Ù†ÛŒØ¯ Ø¯Ø³ØªÙˆØ±Ø§Øª Ø±Ø§ Ø¨Ù‡ Ù‡Ø± Ù†Ø­ÙˆÛŒ Ú©Ù‡ Ù…Ø§ÛŒÙ„ÛŒØ¯ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯. Ù…Ø«Ø§Ù„ :\n\n`PANEl` - `panel`\n\nØ¯Ø± Ú©Ù†Ø§Ø± Ø¨Ø±Ø®ÛŒ Ø¯Ø³ØªÙˆØ±Ø§Øª Ú©Ù„Ù…Ø§ØªÛŒ Ù…Ø§Ù†Ù†Ø¯ :\n[[reply]] - [[username]] - [[id]]\nÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯.\nØ´Ù…Ø§ Ù†Ø¨Ø§ÛŒØ¯ Ø¹ÛŒÙ†Ø§ Ø¢Ù†Ù‡Ø§ Ø±Ø§ Ù‚Ø±Ø§Ø± Ø¯Ù‡ÛŒØ¯. Ø¨Ù„Ú©Ù‡ Ø¨Ø§ÛŒØ¯ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ø¢Ù†Ù‡Ø§ Ø±Ø§ Ù‚Ø±Ø§Ø± Ø¯Ù‡ÛŒØ¯.\n\nã€°> [[reply]]\nÛŒØ¹Ù†ÛŒ Ø´Ù…Ø§ Ø¨Ø§ÛŒØ¯ Ø±ÙˆÛŒ Ù¾ÛŒØ§Ù… ÛŒÚ© Ú©Ø§Ø±Ø¨Ø± Ø±ÛŒÙ¾Ù„Ø§ÛŒ Ú©Ù†ÛŒØ¯.\n\nã€°> [[username]]\nÛŒØ¹Ù†ÛŒ Ø¨Ø§ÛŒØ¯ ÛŒÙˆØ²Ø±Ù†ÛŒÙ…ÛŒ Ø±Ø§ Ù‚Ø±Ø§Ø± Ø¯Ù‡ÛŒØ¯.\n\nã€°> [[id]]\nÛŒØ¹Ù†ÛŒ Ø¨Ø§ÛŒØ¯ Ø´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ ÛŒÚ© ÙØ±Ø¯ Ø±Ø§ Ù‚Ø±Ø§Ø± Ø¯Ù‡ÛŒØ¯.(Ø¨Ø±Ø§ÛŒ Ø¨Ø¯Ø³Øª Ø¢ÙˆØ±Ø±Ø¯Ù† Ø´Ù†Ø§Ø³Ù‡ ÛŒÚ© ÙØ±Ø¯ Ú©Ø§ÙÛŒ Ø§Ø³Øª Ø±ÙˆÛŒ Ø¢Ù† Ú©Ø§Ø±Ø¨Ø± Ø±ÛŒÙ¾Ù„Ø§ÛŒ Ú©Ù†ÛŒØ¯ Ùˆ Ø¯Ø³ØªÙˆØ± `id` Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯.)\n\nâ€¢ Ø´Ù…Ø§ Ù†Ø¨Ø§ÛŒØ¯ Ø§Ø² Ø¹Ù„Ø§Ù…Øª Ù‡Ø§ÛŒ [[ Ùˆ ]] Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯ !\n\nâ€¢ Ù…ÛŒ ØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ø§ Ø§Ø±Ø³Ø§Ù„ `panel` ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ú¯Ø±ÙˆÙ‡ Ø®ÙˆØ¯ Ø±Ø§ Ø¯Ø±ÛŒØ§ÙØª Ú©Ù†ÛŒØ¯ .\n\n[Ú©Ø§Ù†Ø§Ù„ Ù…Ø§](https://t.me/bonabit)",'MarkDown',$button_back_guide);
		}else{
			$button_back_guide=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>"BackğŸ”™",'callback_data'=>"full_guide"]]
			]]);
			editMessageText($chatid,$message_id2,"A guide to using robot commands and capabilities: â™¨ï¸\n\nâ€¢ You can mark robots before orders ! / # And you can even send commands without leaving the check mark. Example :\n`/panel` - `!panel` - `#panel` - `panel`\n\nâ€¢ The robot is not at all small and large, and you can send commands in any way you like. Example :\n\n`PANEL` - `panel`\n\nAlong with some commands like:\n[[reply]] - [[username]] - [[id]]\nThere is.\nYou do not have to put them right. Instead, you must replace them.\n\nã€°> [[reply]]\nThat is, you have to replay a user's message.\n\nã€°> [[username]]\nThat means you have to put your username.\n\nã€°> [[id]]\nThat is, you must place a person's numeric identifier (to get a person's identifier, simply click on that user and submit the `id` statement.)\n\nâ€¢ You should not use the '[[' and ']]' symbols!\n\nâ€¢ You can get group settings by sending the panel.\n\n[Ú©Ø§Ù†Ø§Ù„ Ù…Ø§](https://t.me/bonabit)",'MarkDown',$button_back_guide);
		}
		
	}
}
#button select language
if($data=='change_language'){
	if($tc2=='private'){
		if($chatid==$dev){
			file_put_contents('data/bot/step.txt',$data);
		}
		if($members[$chatid]!='english'){
			editMessageText($chatid,$message_id2,"ã€½ï¸Ù„Ø·ÙØ§ Ø²Ø¨Ø§Ù† Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯ :",'HTML',$button_select_lan);
		}else{
			editMessageText($chatid,$message_id2,"ã€½ï¸Please choose your language :",'HTML',$button_select_lan);
		}
	}
}
#button managemant
if($data=='managemant'){
	if($tc2=='private'){
		if($chatid==$dev){
			file_put_contents('data/bot/step.txt',$data);
		}
		$button_managemant=buttonManagemant($chatid);
		if($members[$chatid]!='english'){
			editMessageText($chatid,$message_id2,"ğŸ†Ù…Ø¯ÛŒØ±ÛŒØª Ø±Ø¨Ø§Øª Ø´Ù…Ø§ğŸ†",'HTML',$button_managemant);
		}else{
			editMessageText($chatid,$message_id2,"ğŸ†Your robot managementğŸ†",'HTML',$button_managemant);
		}
	}
}
#button back panel
if($data=='managemant_group_private'){
	if($tc2=='private'){
		if($chatid==$dev){
			file_put_contents('data/bot/step.txt',$data);
		}
		$button_panel_private=buttonPanelPrivate($chatid);
		if($members[$chatid]!='english'){
			editMessageText($chatid,$message_id2,$text_start_fa,'MarkDown',$button_panel_private);
		}else{
			editMessageText($chatid,$message_id2,$text_start_en,'MarkDown',$button_panel_private);
		}
	}
}
#forward
if($data=='forward'){
	if($tc2=='private'){
		file_put_contents('data/bot/step.txt',$data);
		if($members[$chatid]!='english'){
			$button=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>'ğŸ”™Ø¨Ø±Ú¯Ø´Øª','callback_data'=>'managemant']]
			]]);
			editMessageText($chatid,$message_id2,'ğŸ”»Ù„Ø·ÙØ§ Ù¾ÛŒØ§Ù… Ø®ÙˆØ¯ Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯ :','HTML',$button);
		}else{
			$button=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>'ğŸ”™Back','callback_data'=>'managemant']]
			]]);
			editMessageText($chatid,$message_id2,'ğŸ”»Please send your message :','HTML',$button);
		}
	}
}
if(isset($update->message) && $chatid==$dev && file_get_contents('data/bot/step.txt')=='forward'){
	file_put_contents('data/bot/step.txt','managemant');
	$members=array_keys($members);
	foreach($members as $key){
		bot('forwardMessage',[
		'chat_id'=>$key,
		'from_chat_id'=>$chatid,
		'message_id'=>$message_id
		]);
	}
	if($members[$update->message->chat->id]!='english'){
		sendMessage($update->message->chat->id,'Ù¾ÛŒØ§Ù… Ø´Ù…Ø§ Ø¨Ù‡ Ù‡Ù…Ù‡ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯ :)','HTML',buttonManagemant($update->message->chat->id),null);
	}else{
		sendMessage($update->message->chat->id,'Your message sent to all :)','HTML',buttonManagemant($update->message->chat->id),null);
	}
	die;
}
#forward
if($data=='forward_group'){
	if($tc2=='private'){
		file_put_contents('data/bot/step.txt',$data);
		if($members[$chatid]!='english'){
			$button=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>'ğŸ”™Ø¨Ø±Ú¯Ø´Øª','callback_data'=>'managemant']]
			]]);
			editMessageText($chatid,$message_id2,'ğŸ”»Ù„Ø·ÙØ§ Ù¾ÛŒØ§Ù… Ø®ÙˆØ¯ Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯ :','HTML',$button);
		}else{
			$button=json_encode(['resize_keyboard'=>true,'inline_keyboard'=>[
			[['text'=>'ğŸ”™Back','callback_data'=>'managemant']]
			]]);
			editMessageText($chatid,$message_id2,'ğŸ”»Please send your message :','HTML',$button);
		}
	}
}
if(isset($update->message) && $chatid==$dev && file_get_contents('data/bot/step.txt')=='forward_group'){
	file_put_contents('data/bot/step.txt','managemant');
	$groups=array_keys($groups);
	foreach($groups as $key){
		bot('forwardMessage',[
		'chat_id'=>$key,
		'from_chat_id'=>$chatid,
		'message_id'=>$message_id
		]);
	}
	if($members[$update->message->chat->id]!='english'){
		sendMessage($update->message->chat->id,'Ù¾ÛŒØ§Ù… Ø´Ù…Ø§ Ø¨Ù‡ Ù‡Ù…Ù‡ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯ :)','HTML',buttonManagemant($update->message->chat->id),null);
	}else{
		sendMessage($update->message->chat->id,'Your message sent to all :)','HTML',buttonManagemant($update->message->chat->id),null);
	}
	die;
}
#unlink error log
if(file_exists('error_log')){
	unlink('error_log');
}
?>
